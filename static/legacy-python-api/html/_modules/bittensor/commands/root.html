
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>bittensor.commands.root &#8212; BTCLI Docs 1.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="../../../_static/bittensor-custom.css?v=c1dfe055" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../../_static/documentation_options.js?v=a681ed88"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '_modules/bittensor/commands/root';</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/logo.svg" class="logo__image only-light" alt="BTCLI Docs 1.0 documentation - Home"/>
    <script>document.write(`<img src="../../../_static/logo-dark-mode.svg" class="logo__image only-dark" alt="BTCLI Docs 1.0 documentation - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../autoapi/index.html">API Reference</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../autoapi/bittensor/index.html">bittensor</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../autoapi/bittensor/btlogging/index.html">bittensor.btlogging</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/btlogging/defines/index.html">bittensor.btlogging.defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/btlogging/format/index.html">bittensor.btlogging.format</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/btlogging/helpers/index.html">bittensor.btlogging.helpers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/btlogging/loggingmachine/index.html">bittensor.btlogging.loggingmachine</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../autoapi/bittensor/commands/index.html">bittensor.commands</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/commands/check_coldkey_swap/index.html">bittensor.commands.check_coldkey_swap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/commands/delegates/index.html">bittensor.commands.delegates</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/commands/identity/index.html">bittensor.commands.identity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/commands/inspect/index.html">bittensor.commands.inspect</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/commands/list/index.html">bittensor.commands.list</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/commands/metagraph/index.html">bittensor.commands.metagraph</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/commands/misc/index.html">bittensor.commands.misc</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/commands/network/index.html">bittensor.commands.network</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/commands/overview/index.html">bittensor.commands.overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/commands/register/index.html">bittensor.commands.register</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/commands/root/index.html">bittensor.commands.root</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/commands/senate/index.html">bittensor.commands.senate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/commands/stake/index.html">bittensor.commands.stake</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/commands/transfer/index.html">bittensor.commands.transfer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/commands/unstake/index.html">bittensor.commands.unstake</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/commands/utils/index.html">bittensor.commands.utils</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/commands/wallets/index.html">bittensor.commands.wallets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/commands/weights/index.html">bittensor.commands.weights</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../autoapi/bittensor/extrinsics/index.html">bittensor.extrinsics</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/extrinsics/commit_weights/index.html">bittensor.extrinsics.commit_weights</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/extrinsics/delegation/index.html">bittensor.extrinsics.delegation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/extrinsics/network/index.html">bittensor.extrinsics.network</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/extrinsics/prometheus/index.html">bittensor.extrinsics.prometheus</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/extrinsics/registration/index.html">bittensor.extrinsics.registration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/extrinsics/root/index.html">bittensor.extrinsics.root</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/extrinsics/senate/index.html">bittensor.extrinsics.senate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/extrinsics/serving/index.html">bittensor.extrinsics.serving</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/extrinsics/set_weights/index.html">bittensor.extrinsics.set_weights</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/extrinsics/staking/index.html">bittensor.extrinsics.staking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/extrinsics/transfer/index.html">bittensor.extrinsics.transfer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/extrinsics/unstaking/index.html">bittensor.extrinsics.unstaking</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../autoapi/bittensor/mock/index.html">bittensor.mock</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/mock/keyfile_mock/index.html">bittensor.mock.keyfile_mock</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/mock/subtensor_mock/index.html">bittensor.mock.subtensor_mock</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/mock/wallet_mock/index.html">bittensor.mock.wallet_mock</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../autoapi/bittensor/utils/index.html">bittensor.utils</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/utils/_register_cuda/index.html">bittensor.utils._register_cuda</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/utils/axon_utils/index.html">bittensor.utils.axon_utils</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/utils/balance/index.html">bittensor.utils.balance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/utils/formatting/index.html">bittensor.utils.formatting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/utils/networking/index.html">bittensor.utils.networking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/utils/registration/index.html">bittensor.utils.registration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/utils/subtensor/index.html">bittensor.utils.subtensor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/utils/test_utils/index.html">bittensor.utils.test_utils</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/utils/version/index.html">bittensor.utils.version</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/utils/wallet_utils/index.html">bittensor.utils.wallet_utils</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../autoapi/bittensor/utils/weight_utils/index.html">bittensor.utils.weight_utils</a></li>
</ul>
</details></li>
<li class="toctree-l3"><a class="reference internal" href="../../../autoapi/bittensor/axon/index.html">bittensor.axon</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../autoapi/bittensor/chain_data/index.html">bittensor.chain_data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../autoapi/bittensor/cli/index.html">bittensor.cli</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../autoapi/bittensor/config/index.html">bittensor.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../autoapi/bittensor/constants/index.html">bittensor.constants</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../autoapi/bittensor/dendrite/index.html">bittensor.dendrite</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../autoapi/bittensor/errors/index.html">bittensor.errors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../autoapi/bittensor/keyfile/index.html">bittensor.keyfile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../autoapi/bittensor/metagraph/index.html">bittensor.metagraph</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../autoapi/bittensor/stream/index.html">bittensor.stream</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../autoapi/bittensor/subnets/index.html">bittensor.subnets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../autoapi/bittensor/subtensor/index.html">bittensor.subtensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../autoapi/bittensor/synapse/index.html">bittensor.synapse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../autoapi/bittensor/tensor/index.html">bittensor.tensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../autoapi/bittensor/threadpool/index.html">bittensor.threadpool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../autoapi/bittensor/types/index.html">bittensor.types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../autoapi/bittensor/wallet/index.html">bittensor.wallet</a></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/opentensor/btcli" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/opentensor/btcli/issues/new?title=Issue%20on%20page%20%2F_modules/bittensor/commands/root.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>

</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1></h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <h1>Source code for bittensor.commands.root</h1><div class="highlight"><pre>
<span></span><span class="c1"># The MIT License (MIT)</span>
<span class="c1"># Copyright © 2021 Yuma Rao</span>

<span class="c1"># Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated</span>
<span class="c1"># documentation files (the “Software”), to deal in the Software without restriction, including without limitation</span>
<span class="c1"># the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,</span>
<span class="c1"># and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</span>

<span class="c1"># The above copyright notice and this permission notice shall be included in all copies or substantial portions of</span>
<span class="c1"># the Software.</span>

<span class="c1"># THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO</span>
<span class="c1"># THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL</span>
<span class="c1"># THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION</span>
<span class="c1"># OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER</span>
<span class="c1"># DEALINGS IN THE SOFTWARE.</span>

<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">typing</span>
<span class="kn">import</span> <span class="nn">argparse</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">bittensor</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Dict</span>
<span class="kn">from</span> <span class="nn">rich.prompt</span> <span class="kn">import</span> <span class="n">Prompt</span>
<span class="kn">from</span> <span class="nn">rich.table</span> <span class="kn">import</span> <span class="n">Table</span>
<span class="kn">from</span> <span class="nn">.utils</span> <span class="kn">import</span> <span class="n">get_delegates_details</span><span class="p">,</span> <span class="n">DelegatesDetails</span>

<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">defaults</span>

<span class="n">console</span> <span class="o">=</span> <span class="n">bittensor</span><span class="o">.</span><span class="n">__console__</span>


<div class="viewcode-block" id="RootRegisterCommand">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootRegisterCommand">[docs]</a>
<span class="k">class</span> <span class="nc">RootRegisterCommand</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Executes the ``register`` command to register a wallet to the root network of the Bittensor network.</span>

<span class="sd">    This command is used to formally acknowledge a wallet&#39;s participation in the network&#39;s root layer.</span>

<span class="sd">    Usage:</span>
<span class="sd">        The command registers the user&#39;s wallet with the root network, which is a crucial step for participating in network governance and other advanced functions.</span>

<span class="sd">    Optional arguments:</span>
<span class="sd">        - None. The command primarily uses the wallet and subtensor configurations.</span>

<span class="sd">    Example usage::</span>

<span class="sd">        btcli root register</span>

<span class="sd">    Note:</span>
<span class="sd">        This command is important for users seeking to engage deeply with the Bittensor network, particularly in aspects related to network governance and decision-making.</span>

<span class="sd">        It is a straightforward process but requires the user to have an initialized and configured wallet.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="RootRegisterCommand.run">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootRegisterCommand.run">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">cli</span><span class="p">:</span> <span class="s2">&quot;bittensor.cli&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Register to root network.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">subtensor</span><span class="p">:</span> <span class="s2">&quot;bittensor.subtensor&quot;</span> <span class="o">=</span> <span class="n">bittensor</span><span class="o">.</span><span class="n">subtensor</span><span class="p">(</span>
                <span class="n">config</span><span class="o">=</span><span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">log_verbose</span><span class="o">=</span><span class="kc">False</span>
            <span class="p">)</span>
            <span class="n">RootRegisterCommand</span><span class="o">.</span><span class="n">_run</span><span class="p">(</span><span class="n">cli</span><span class="p">,</span> <span class="n">subtensor</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;subtensor&quot;</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">():</span>
                <span class="n">subtensor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                <span class="n">bittensor</span><span class="o">.</span><span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;closing subtensor connection&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="RootRegisterCommand._run">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootRegisterCommand._run">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_run</span><span class="p">(</span><span class="n">cli</span><span class="p">:</span> <span class="s2">&quot;bittensor.cli&quot;</span><span class="p">,</span> <span class="n">subtensor</span><span class="p">:</span> <span class="s2">&quot;bittensor.subtensor&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Register to root network.&quot;&quot;&quot;</span>
        <span class="n">wallet</span> <span class="o">=</span> <span class="n">bittensor</span><span class="o">.</span><span class="n">wallet</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="p">)</span>

        <span class="n">subtensor</span><span class="o">.</span><span class="n">root_register</span><span class="p">(</span><span class="n">wallet</span><span class="o">=</span><span class="n">wallet</span><span class="p">,</span> <span class="n">prompt</span><span class="o">=</span><span class="ow">not</span> <span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">no_prompt</span><span class="p">)</span></div>


<div class="viewcode-block" id="RootRegisterCommand.add_args">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootRegisterCommand.add_args">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">add_args</span><span class="p">(</span><span class="n">parser</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">):</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">add_parser</span><span class="p">(</span>
            <span class="s2">&quot;register&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Register a wallet to the root network.&quot;&quot;&quot;</span>
        <span class="p">)</span>

        <span class="n">bittensor</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">add_args</span><span class="p">(</span><span class="n">parser</span><span class="p">)</span>
        <span class="n">bittensor</span><span class="o">.</span><span class="n">subtensor</span><span class="o">.</span><span class="n">add_args</span><span class="p">(</span><span class="n">parser</span><span class="p">)</span></div>


<div class="viewcode-block" id="RootRegisterCommand.check_config">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootRegisterCommand.check_config">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">check_config</span><span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="s2">&quot;bittensor.config&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">is_set</span><span class="p">(</span><span class="s2">&quot;wallet.name&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">no_prompt</span><span class="p">:</span>
            <span class="n">wallet_name</span> <span class="o">=</span> <span class="n">Prompt</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="s2">&quot;Enter wallet name&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">defaults</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="n">config</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">wallet_name</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">is_set</span><span class="p">(</span><span class="s2">&quot;wallet.hotkey&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">no_prompt</span><span class="p">:</span>
            <span class="n">hotkey</span> <span class="o">=</span> <span class="n">Prompt</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="s2">&quot;Enter hotkey name&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">defaults</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">hotkey</span><span class="p">)</span>
            <span class="n">config</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">hotkey</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">hotkey</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="RootList">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootList">[docs]</a>
<span class="k">class</span> <span class="nc">RootList</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Executes the ``list`` command to display the members of the root network on the Bittensor network.</span>

<span class="sd">    This command provides an overview of the neurons that constitute the network&#39;s foundational layer.</span>

<span class="sd">    Usage:</span>
<span class="sd">        Upon execution, the command fetches and lists the neurons in the root network, showing their unique identifiers (UIDs), names, addresses, stakes, and whether they are part of the senate (network governance body).</span>

<span class="sd">    Optional arguments:</span>
<span class="sd">        - None. The command uses the subtensor configuration to retrieve data.</span>

<span class="sd">    Example usage::</span>

<span class="sd">        $ btcli root list</span>

<span class="sd">        UID  NAME                             ADDRESS                                                STAKE(τ)  SENATOR</span>
<span class="sd">        0                                     5CaCUPsSSdKWcMJbmdmJdnWVa15fJQuz5HsSGgVdZffpHAUa    27086.37070  Yes</span>
<span class="sd">        1    RaoK9                            5GmaAk7frPXnAxjbQvXcoEzMGZfkrDee76eGmKoB3wxUburE      520.24199  No</span>
<span class="sd">        2    Openτensor Foundaτion            5F4tQyWrhfGVcNhoqeiNsR6KjD4wMZ2kfhLj4oHYuyHbZAc3  1275437.45895  Yes</span>
<span class="sd">        3    RoundTable21                     5FFApaS75bv5pJHfAp2FVLBj9ZaXuFDjEypsaBNc1wCfe52v    84718.42095  Yes</span>
<span class="sd">        4                                     5HK5tp6t2S59DywmHRWPBVJeJ86T61KjurYqeooqj8sREpeN   168897.40859  Yes</span>
<span class="sd">        5    Rizzo                            5CXRfP2ekFhe62r7q3vppRajJmGhTi7vwvb2yr79jveZ282w    53383.34400  No</span>
<span class="sd">        6    τaosτaτs and BitAPAI             5Hddm3iBFD2GLT5ik7LZnT3XJUnRnN8PoeCFgGQgawUVKNm8   646944.73569  Yes</span>
<span class="sd">        ...</span>

<span class="sd">    Note:</span>
<span class="sd">        This command is useful for users interested in understanding the composition and governance structure of the Bittensor network&#39;s root layer. It provides insights into which neurons hold significant influence and responsibility within the network.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="RootList.run">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootList.run">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">cli</span><span class="p">:</span> <span class="s2">&quot;bittensor.cli&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;List the root network&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">subtensor</span><span class="p">:</span> <span class="s2">&quot;bittensor.subtensor&quot;</span> <span class="o">=</span> <span class="n">bittensor</span><span class="o">.</span><span class="n">subtensor</span><span class="p">(</span>
                <span class="n">config</span><span class="o">=</span><span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">log_verbose</span><span class="o">=</span><span class="kc">False</span>
            <span class="p">)</span>
            <span class="n">RootList</span><span class="o">.</span><span class="n">_run</span><span class="p">(</span><span class="n">cli</span><span class="p">,</span> <span class="n">subtensor</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;subtensor&quot;</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">():</span>
                <span class="n">subtensor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                <span class="n">bittensor</span><span class="o">.</span><span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;closing subtensor connection&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="RootList._run">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootList._run">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_run</span><span class="p">(</span><span class="n">cli</span><span class="p">:</span> <span class="s2">&quot;bittensor.cli&quot;</span><span class="p">,</span> <span class="n">subtensor</span><span class="p">:</span> <span class="s2">&quot;bittensor.subtensor&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;List the root network&quot;&quot;&quot;</span>
        <span class="n">console</span><span class="o">.</span><span class="n">print</span><span class="p">(</span>
            <span class="s2">&quot;:satellite: Syncing with chain: [white]</span><span class="si">{}</span><span class="s2">[/white] ...&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">subtensor</span><span class="o">.</span><span class="n">network</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="n">senate_members</span> <span class="o">=</span> <span class="n">subtensor</span><span class="o">.</span><span class="n">get_senate_members</span><span class="p">()</span>
        <span class="n">root_neurons</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">bittensor</span><span class="o">.</span><span class="n">NeuronInfoLite</span><span class="p">]</span> <span class="o">=</span> <span class="n">subtensor</span><span class="o">.</span><span class="n">neurons_lite</span><span class="p">(</span>
            <span class="n">netuid</span><span class="o">=</span><span class="mi">0</span>
        <span class="p">)</span>
        <span class="n">delegate_info</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">DelegatesDetails</span><span class="p">]]</span> <span class="o">=</span> <span class="n">get_delegates_details</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="n">bittensor</span><span class="o">.</span><span class="n">__delegates_details_url__</span>
        <span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_footer</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;[white]Root Network&quot;</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span>
            <span class="s2">&quot;[overline white]UID&quot;</span><span class="p">,</span>
            <span class="n">footer_style</span><span class="o">=</span><span class="s2">&quot;overline white&quot;</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="s2">&quot;rgb(50,163,219)&quot;</span><span class="p">,</span>
            <span class="n">no_wrap</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span>
            <span class="s2">&quot;[overline white]NAME&quot;</span><span class="p">,</span>
            <span class="n">footer_style</span><span class="o">=</span><span class="s2">&quot;overline white&quot;</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="s2">&quot;rgb(50,163,219)&quot;</span><span class="p">,</span>
            <span class="n">no_wrap</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span>
            <span class="s2">&quot;[overline white]ADDRESS&quot;</span><span class="p">,</span>
            <span class="n">footer_style</span><span class="o">=</span><span class="s2">&quot;overline white&quot;</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="s2">&quot;yellow&quot;</span><span class="p">,</span>
            <span class="n">no_wrap</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span>
            <span class="s2">&quot;[overline white]STAKE(</span><span class="se">\u03c4</span><span class="s2">)&quot;</span><span class="p">,</span>
            <span class="n">footer_style</span><span class="o">=</span><span class="s2">&quot;overline white&quot;</span><span class="p">,</span>
            <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">,</span>
            <span class="n">no_wrap</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span>
            <span class="s2">&quot;[overline white]SENATOR&quot;</span><span class="p">,</span>
            <span class="n">footer_style</span><span class="o">=</span><span class="s2">&quot;overline white&quot;</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">,</span>
            <span class="n">no_wrap</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">show_footer</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">for</span> <span class="n">neuron_data</span> <span class="ow">in</span> <span class="n">root_neurons</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
                <span class="nb">str</span><span class="p">(</span><span class="n">neuron_data</span><span class="o">.</span><span class="n">uid</span><span class="p">),</span>
                <span class="p">(</span>
                    <span class="n">delegate_info</span><span class="p">[</span><span class="n">neuron_data</span><span class="o">.</span><span class="n">hotkey</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
                    <span class="k">if</span> <span class="n">neuron_data</span><span class="o">.</span><span class="n">hotkey</span> <span class="ow">in</span> <span class="n">delegate_info</span>
                    <span class="k">else</span> <span class="s2">&quot;&quot;</span>
                <span class="p">),</span>
                <span class="n">neuron_data</span><span class="o">.</span><span class="n">hotkey</span><span class="p">,</span>
                <span class="s2">&quot;</span><span class="si">{:.5f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="nb">float</span><span class="p">(</span><span class="n">subtensor</span><span class="o">.</span><span class="n">get_total_stake_for_hotkey</span><span class="p">(</span><span class="n">neuron_data</span><span class="o">.</span><span class="n">hotkey</span><span class="p">))</span>
                <span class="p">),</span>
                <span class="s2">&quot;Yes&quot;</span> <span class="k">if</span> <span class="n">neuron_data</span><span class="o">.</span><span class="n">hotkey</span> <span class="ow">in</span> <span class="n">senate_members</span> <span class="k">else</span> <span class="s2">&quot;No&quot;</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">table</span><span class="o">.</span><span class="n">box</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">table</span><span class="o">.</span><span class="n">pad_edge</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">table</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">bittensor</span><span class="o">.</span><span class="n">__console__</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span></div>


<div class="viewcode-block" id="RootList.add_args">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootList.add_args">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">add_args</span><span class="p">(</span><span class="n">parser</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">):</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">add_parser</span><span class="p">(</span><span class="s2">&quot;list&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;List the root network&quot;&quot;&quot;</span><span class="p">)</span>
        <span class="n">bittensor</span><span class="o">.</span><span class="n">subtensor</span><span class="o">.</span><span class="n">add_args</span><span class="p">(</span><span class="n">parser</span><span class="p">)</span></div>


<div class="viewcode-block" id="RootList.check_config">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootList.check_config">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">check_config</span><span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="s2">&quot;bittensor.config&quot;</span><span class="p">):</span>
        <span class="k">pass</span></div>
</div>



<div class="viewcode-block" id="RootSetBoostCommand">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootSetBoostCommand">[docs]</a>
<span class="k">class</span> <span class="nc">RootSetBoostCommand</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Executes the ``boost`` command to boost the weights for a specific subnet within the root network on the Bittensor network.</span>

<span class="sd">    Usage:</span>
<span class="sd">        The command allows boosting the weights for different subnets within the root network.</span>

<span class="sd">    Optional arguments:</span>
<span class="sd">        - ``--netuid`` (int): A single netuid for which weights are to be boosted.</span>
<span class="sd">        - ``--increase`` (float): The cooresponding increase in the weight for this subnet.</span>

<span class="sd">    Example usage::</span>

<span class="sd">        $ btcli root boost --netuid 1 --increase 0.01</span>

<span class="sd">        Enter netuid (e.g. 1): 1</span>
<span class="sd">        Enter amount (e.g. 0.01): 0.1</span>
<span class="sd">        Boosting weight for subnet: 1 by amount: 0.1</span>

<span class="sd">        Normalized weights:</span>
<span class="sd">                tensor([</span>
<span class="sd">                0.0000, 0.5455, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.4545, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.0000]) -&gt; tensor([0.0000, 0.5455, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.4545, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.0000]</span>
<span class="sd">            )</span>

<span class="sd">        Do you want to set the following root weights?:</span>
<span class="sd">        weights: tensor([</span>
<span class="sd">                0.0000, 0.5455, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.4545, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.0000])</span>
<span class="sd">        uids: tensor([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17,</span>
<span class="sd">                18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,</span>
<span class="sd">                36, 37, 38, 39, 40])? [y/n]: y</span>
<span class="sd">        True None</span>
<span class="sd">        ✅ Finalized</span>
<span class="sd">        ⠙ 📡 Setting root weights on test ...2023-11-28 22:09:14.001 |     SUCCESS      | Set weights                   Finalized: True</span>

<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="RootSetBoostCommand.run">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootSetBoostCommand.run">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">cli</span><span class="p">:</span> <span class="s2">&quot;bittensor.cli&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Set weights for root network.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">subtensor</span><span class="p">:</span> <span class="s2">&quot;bittensor.subtensor&quot;</span> <span class="o">=</span> <span class="n">bittensor</span><span class="o">.</span><span class="n">subtensor</span><span class="p">(</span>
                <span class="n">config</span><span class="o">=</span><span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">log_verbose</span><span class="o">=</span><span class="kc">False</span>
            <span class="p">)</span>
            <span class="n">RootSetBoostCommand</span><span class="o">.</span><span class="n">_run</span><span class="p">(</span><span class="n">cli</span><span class="p">,</span> <span class="n">subtensor</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;subtensor&quot;</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">():</span>
                <span class="n">subtensor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                <span class="n">bittensor</span><span class="o">.</span><span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;closing subtensor connection&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="RootSetBoostCommand._run">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootSetBoostCommand._run">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_run</span><span class="p">(</span><span class="n">cli</span><span class="p">:</span> <span class="s2">&quot;bittensor.cli&quot;</span><span class="p">,</span> <span class="n">subtensor</span><span class="p">:</span> <span class="s2">&quot;bittensor.subtensor&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Set weights for root network.&quot;&quot;&quot;</span>
        <span class="n">wallet</span> <span class="o">=</span> <span class="n">bittensor</span><span class="o">.</span><span class="n">wallet</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="p">)</span>

        <span class="n">root</span> <span class="o">=</span> <span class="n">subtensor</span><span class="o">.</span><span class="n">metagraph</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">lite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">my_uid</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">hotkeys</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">wallet</span><span class="o">.</span><span class="n">hotkey</span><span class="o">.</span><span class="n">ss58_address</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">bittensor</span><span class="o">.</span><span class="n">__console__</span><span class="o">.</span><span class="n">print</span><span class="p">(</span>
                <span class="s2">&quot;Wallet hotkey: </span><span class="si">{}</span><span class="s2"> not found in root metagraph&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">wallet</span><span class="o">.</span><span class="n">hotkey</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">exit</span><span class="p">()</span>
        <span class="n">my_weights</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">weights</span><span class="p">[</span><span class="n">my_uid</span><span class="p">]</span>
        <span class="n">prev_weight</span> <span class="o">=</span> <span class="n">my_weights</span><span class="p">[</span><span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">netuid</span><span class="p">]</span>
        <span class="n">new_weight</span> <span class="o">=</span> <span class="n">prev_weight</span> <span class="o">+</span> <span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">amount</span>

        <span class="n">bittensor</span><span class="o">.</span><span class="n">__console__</span><span class="o">.</span><span class="n">print</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Boosting weight for netuid </span><span class="si">{</span><span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">netuid</span><span class="si">}</span><span class="s2"> from </span><span class="si">{</span><span class="n">prev_weight</span><span class="si">}</span><span class="s2"> -&gt; </span><span class="si">{</span><span class="n">new_weight</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="n">my_weights</span><span class="p">[</span><span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">netuid</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_weight</span>
        <span class="n">all_netuids</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">my_weights</span><span class="p">))</span>

        <span class="n">bittensor</span><span class="o">.</span><span class="n">__console__</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="s2">&quot;Setting root weights...&quot;</span><span class="p">)</span>
        <span class="n">subtensor</span><span class="o">.</span><span class="n">root_set_weights</span><span class="p">(</span>
            <span class="n">wallet</span><span class="o">=</span><span class="n">wallet</span><span class="p">,</span>
            <span class="n">netuids</span><span class="o">=</span><span class="n">all_netuids</span><span class="p">,</span>
            <span class="n">weights</span><span class="o">=</span><span class="n">my_weights</span><span class="p">,</span>
            <span class="n">version_key</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">prompt</span><span class="o">=</span><span class="ow">not</span> <span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">no_prompt</span><span class="p">,</span>
            <span class="n">wait_for_finalization</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">wait_for_inclusion</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="RootSetBoostCommand.add_args">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootSetBoostCommand.add_args">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">add_args</span><span class="p">(</span><span class="n">parser</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">):</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">add_parser</span><span class="p">(</span>
            <span class="s2">&quot;boost&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Boost weight for a specific subnet by increase amount.&quot;&quot;&quot;</span>
        <span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--netuid&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;netuid&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--increase&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;amount&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="n">bittensor</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">add_args</span><span class="p">(</span><span class="n">parser</span><span class="p">)</span>
        <span class="n">bittensor</span><span class="o">.</span><span class="n">subtensor</span><span class="o">.</span><span class="n">add_args</span><span class="p">(</span><span class="n">parser</span><span class="p">)</span></div>


<div class="viewcode-block" id="RootSetBoostCommand.check_config">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootSetBoostCommand.check_config">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">check_config</span><span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="s2">&quot;bittensor.config&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">is_set</span><span class="p">(</span><span class="s2">&quot;wallet.name&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">no_prompt</span><span class="p">:</span>
            <span class="n">wallet_name</span> <span class="o">=</span> <span class="n">Prompt</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="s2">&quot;Enter wallet name&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">defaults</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="n">config</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">wallet_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">is_set</span><span class="p">(</span><span class="s2">&quot;wallet.hotkey&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">no_prompt</span><span class="p">:</span>
            <span class="n">hotkey</span> <span class="o">=</span> <span class="n">Prompt</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="s2">&quot;Enter hotkey name&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">defaults</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">hotkey</span><span class="p">)</span>
            <span class="n">config</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">hotkey</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">hotkey</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">is_set</span><span class="p">(</span><span class="s2">&quot;netuid&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">no_prompt</span><span class="p">:</span>
            <span class="n">config</span><span class="o">.</span><span class="n">netuid</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">Prompt</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Enter netuid (e.g. 1)&quot;</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">is_set</span><span class="p">(</span><span class="s2">&quot;amount&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">no_prompt</span><span class="p">:</span>
            <span class="n">config</span><span class="o">.</span><span class="n">amount</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">Prompt</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Enter amount (e.g. 0.01)&quot;</span><span class="p">))</span></div>
</div>



<div class="viewcode-block" id="RootSetSlashCommand">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootSetSlashCommand">[docs]</a>
<span class="k">class</span> <span class="nc">RootSetSlashCommand</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Executes the ``slash`` command to decrease the weights for a specific subnet within the root network on the Bittensor network.</span>

<span class="sd">    Usage:</span>
<span class="sd">        The command allows slashing (decreasing) the weights for different subnets within the root network.</span>

<span class="sd">    Optional arguments:</span>
<span class="sd">        - ``--netuid`` (int): A single netuid for which weights are to be slashed.</span>
<span class="sd">        - ``--decrease`` (float): The corresponding decrease in the weight for this subnet.</span>

<span class="sd">    Example usage::</span>

<span class="sd">        $ btcli root slash --netuid 1 --decrease 0.01</span>

<span class="sd">        Enter netuid (e.g. 1): 1</span>
<span class="sd">        Enter decrease amount (e.g. 0.01): 0.2</span>
<span class="sd">        Slashing weight for subnet: 1 by amount: 0.2</span>

<span class="sd">        Normalized weights:</span>
<span class="sd">                tensor([</span>
<span class="sd">                0.0000, 0.4318, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.5682, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.0000]) -&gt; tensor([</span>
<span class="sd">                0.0000, 0.4318, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.5682, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.0000]</span>
<span class="sd">            )</span>

<span class="sd">        Do you want to set the following root weights?:</span>
<span class="sd">        weights: tensor([</span>
<span class="sd">                0.0000, 0.4318, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.5682, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000,</span>
<span class="sd">                0.0000, 0.0000, 0.0000, 0.0000, 0.0000])</span>
<span class="sd">        uids: tensor([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17,</span>
<span class="sd">                18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,</span>
<span class="sd">                36, 37, 38, 39, 40])? [y/n]: y</span>
<span class="sd">        ⠙ 📡 Setting root weights on test ...2023-11-28 22:09:14.001 |     SUCCESS      | Set weights                   Finalized: True</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="RootSetSlashCommand.run">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootSetSlashCommand.run">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">cli</span><span class="p">:</span> <span class="s2">&quot;bittensor.cli&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set weights for root network with decreased values.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">subtensor</span><span class="p">:</span> <span class="s2">&quot;bittensor.subtensor&quot;</span> <span class="o">=</span> <span class="n">bittensor</span><span class="o">.</span><span class="n">subtensor</span><span class="p">(</span>
                <span class="n">config</span><span class="o">=</span><span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">log_verbose</span><span class="o">=</span><span class="kc">False</span>
            <span class="p">)</span>
            <span class="n">RootSetSlashCommand</span><span class="o">.</span><span class="n">_run</span><span class="p">(</span><span class="n">cli</span><span class="p">,</span> <span class="n">subtensor</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;subtensor&quot;</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">():</span>
                <span class="n">subtensor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                <span class="n">bittensor</span><span class="o">.</span><span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;closing subtensor connection&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="RootSetSlashCommand._run">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootSetSlashCommand._run">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_run</span><span class="p">(</span><span class="n">cli</span><span class="p">:</span> <span class="s2">&quot;bittensor.cli&quot;</span><span class="p">,</span> <span class="n">subtensor</span><span class="p">:</span> <span class="s2">&quot;bittensor.subtensor&quot;</span><span class="p">):</span>
        <span class="n">wallet</span> <span class="o">=</span> <span class="n">bittensor</span><span class="o">.</span><span class="n">wallet</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="p">)</span>

        <span class="n">bittensor</span><span class="o">.</span><span class="n">__console__</span><span class="o">.</span><span class="n">print</span><span class="p">(</span>
            <span class="s2">&quot;Slashing weight for subnet: </span><span class="si">{}</span><span class="s2"> by amount: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">netuid</span><span class="p">,</span> <span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">amount</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="n">root</span> <span class="o">=</span> <span class="n">subtensor</span><span class="o">.</span><span class="n">metagraph</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">lite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">my_uid</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">hotkeys</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">wallet</span><span class="o">.</span><span class="n">hotkey</span><span class="o">.</span><span class="n">ss58_address</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">bittensor</span><span class="o">.</span><span class="n">__console__</span><span class="o">.</span><span class="n">print</span><span class="p">(</span>
                <span class="s2">&quot;Wallet hotkey: </span><span class="si">{}</span><span class="s2"> not found in root metagraph&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">wallet</span><span class="o">.</span><span class="n">hotkey</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">exit</span><span class="p">()</span>
        <span class="n">my_weights</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">weights</span><span class="p">[</span><span class="n">my_uid</span><span class="p">]</span>
        <span class="n">my_weights</span><span class="p">[</span><span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">netuid</span><span class="p">]</span> <span class="o">-=</span> <span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">amount</span>
        <span class="n">my_weights</span><span class="p">[</span><span class="n">my_weights</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Ensure weights don&#39;t go negative</span>
        <span class="n">all_netuids</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">my_weights</span><span class="p">))</span>

        <span class="n">subtensor</span><span class="o">.</span><span class="n">root_set_weights</span><span class="p">(</span>
            <span class="n">wallet</span><span class="o">=</span><span class="n">wallet</span><span class="p">,</span>
            <span class="n">netuids</span><span class="o">=</span><span class="n">all_netuids</span><span class="p">,</span>
            <span class="n">weights</span><span class="o">=</span><span class="n">my_weights</span><span class="p">,</span>
            <span class="n">version_key</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">prompt</span><span class="o">=</span><span class="ow">not</span> <span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">no_prompt</span><span class="p">,</span>
            <span class="n">wait_for_finalization</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">wait_for_inclusion</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="RootSetSlashCommand.add_args">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootSetSlashCommand.add_args">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">add_args</span><span class="p">(</span><span class="n">parser</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">):</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">add_parser</span><span class="p">(</span>
            <span class="s2">&quot;slash&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Slash weight for a specific subnet by decrease amount.&quot;&quot;&quot;</span>
        <span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--netuid&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;netuid&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--decrease&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;amount&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="n">bittensor</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">add_args</span><span class="p">(</span><span class="n">parser</span><span class="p">)</span>
        <span class="n">bittensor</span><span class="o">.</span><span class="n">subtensor</span><span class="o">.</span><span class="n">add_args</span><span class="p">(</span><span class="n">parser</span><span class="p">)</span></div>


<div class="viewcode-block" id="RootSetSlashCommand.check_config">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootSetSlashCommand.check_config">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">check_config</span><span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="s2">&quot;bittensor.config&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">is_set</span><span class="p">(</span><span class="s2">&quot;wallet.name&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">no_prompt</span><span class="p">:</span>
            <span class="n">wallet_name</span> <span class="o">=</span> <span class="n">Prompt</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="s2">&quot;Enter wallet name&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">defaults</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="n">config</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">wallet_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">is_set</span><span class="p">(</span><span class="s2">&quot;wallet.hotkey&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">no_prompt</span><span class="p">:</span>
            <span class="n">hotkey</span> <span class="o">=</span> <span class="n">Prompt</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="s2">&quot;Enter hotkey name&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">defaults</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">hotkey</span><span class="p">)</span>
            <span class="n">config</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">hotkey</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">hotkey</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">is_set</span><span class="p">(</span><span class="s2">&quot;netuid&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">no_prompt</span><span class="p">:</span>
            <span class="n">config</span><span class="o">.</span><span class="n">netuid</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">Prompt</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Enter netuid (e.g. 1)&quot;</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">is_set</span><span class="p">(</span><span class="s2">&quot;amount&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">no_prompt</span><span class="p">:</span>
            <span class="n">config</span><span class="o">.</span><span class="n">amount</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">Prompt</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Enter decrease amount (e.g. 0.01)&quot;</span><span class="p">))</span></div>
</div>



<div class="viewcode-block" id="RootSetWeightsCommand">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootSetWeightsCommand">[docs]</a>
<span class="k">class</span> <span class="nc">RootSetWeightsCommand</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Executes the ``weights`` command to set the weights for the root network on the Bittensor network.</span>

<span class="sd">    This command is used by network senators to influence the distribution of network rewards and responsibilities.</span>

<span class="sd">    Usage:</span>
<span class="sd">        The command allows setting weights for different subnets within the root network. Users need to specify the netuids (network unique identifiers) and corresponding weights they wish to assign.</span>

<span class="sd">    Optional arguments:</span>
<span class="sd">        - ``--netuids`` (str): A comma-separated list of netuids for which weights are to be set.</span>
<span class="sd">        - ``--weights`` (str): Corresponding weights for the specified netuids, in comma-separated format.</span>

<span class="sd">    Example usage::</span>

<span class="sd">        btcli root weights --netuids 1,2,3 --weights 0.3,0.3,0.4</span>

<span class="sd">    Note:</span>
<span class="sd">        This command is particularly important for network senators and requires a comprehensive understanding of the network&#39;s dynamics.</span>
<span class="sd">        It is a powerful tool that directly impacts the network&#39;s operational mechanics and reward distribution.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="RootSetWeightsCommand.run">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootSetWeightsCommand.run">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">cli</span><span class="p">:</span> <span class="s2">&quot;bittensor.cli&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Set weights for root network.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">subtensor</span><span class="p">:</span> <span class="s2">&quot;bittensor.subtensor&quot;</span> <span class="o">=</span> <span class="n">bittensor</span><span class="o">.</span><span class="n">subtensor</span><span class="p">(</span>
                <span class="n">config</span><span class="o">=</span><span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">log_verbose</span><span class="o">=</span><span class="kc">False</span>
            <span class="p">)</span>
            <span class="n">RootSetWeightsCommand</span><span class="o">.</span><span class="n">_run</span><span class="p">(</span><span class="n">cli</span><span class="p">,</span> <span class="n">subtensor</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;subtensor&quot;</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">():</span>
                <span class="n">subtensor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                <span class="n">bittensor</span><span class="o">.</span><span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;closing subtensor connection&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="RootSetWeightsCommand._run">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootSetWeightsCommand._run">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_run</span><span class="p">(</span><span class="n">cli</span><span class="p">:</span> <span class="s2">&quot;bittensor.cli&quot;</span><span class="p">,</span> <span class="n">subtensor</span><span class="p">:</span> <span class="s2">&quot;bittensor.subtensor&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Set weights for root network.&quot;&quot;&quot;</span>
        <span class="n">wallet</span> <span class="o">=</span> <span class="n">bittensor</span><span class="o">.</span><span class="n">wallet</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="p">)</span>
        <span class="n">subnets</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">bittensor</span><span class="o">.</span><span class="n">SubnetInfo</span><span class="p">]</span> <span class="o">=</span> <span class="n">subtensor</span><span class="o">.</span><span class="n">get_all_subnets_info</span><span class="p">()</span>

        <span class="c1"># Get values if not set.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">is_set</span><span class="p">(</span><span class="s2">&quot;netuids&quot;</span><span class="p">):</span>
            <span class="n">example</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="p">[</span><span class="n">subnet</span><span class="o">.</span><span class="n">netuid</span> <span class="k">for</span> <span class="n">subnet</span> <span class="ow">in</span> <span class="n">subnets</span><span class="p">][:</span><span class="mi">3</span><span class="p">]))</span> <span class="o">+</span> <span class="s2">&quot; ...&quot;</span>
            <span class="p">)</span>
            <span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">netuids</span> <span class="o">=</span> <span class="n">Prompt</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Enter netuids (e.g. </span><span class="si">{</span><span class="n">example</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">is_set</span><span class="p">(</span><span class="s2">&quot;weights&quot;</span><span class="p">):</span>
            <span class="n">example</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                    <span class="nb">map</span><span class="p">(</span>
                        <span class="nb">str</span><span class="p">,</span>
                        <span class="p">[</span>
                            <span class="s2">&quot;</span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">subnets</span><span class="p">)))</span>
                            <span class="k">for</span> <span class="n">subnet</span> <span class="ow">in</span> <span class="n">subnets</span>
                        <span class="p">][:</span><span class="mi">3</span><span class="p">],</span>
                    <span class="p">)</span>
                <span class="p">)</span>
                <span class="o">+</span> <span class="s2">&quot; ...&quot;</span>
            <span class="p">)</span>
            <span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">weights</span> <span class="o">=</span> <span class="n">Prompt</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Enter weights (e.g. </span><span class="si">{</span><span class="n">example</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

        <span class="c1"># Parse from string</span>
        <span class="n">matched_netuids</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[ ,]+&quot;</span><span class="p">,</span> <span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">netuids</span><span class="p">)))</span>
        <span class="n">netuids</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">matched_netuids</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>

        <span class="n">matched_weights</span> <span class="o">=</span> <span class="p">[</span>
            <span class="nb">float</span><span class="p">(</span><span class="n">weight</span><span class="p">)</span> <span class="k">for</span> <span class="n">weight</span> <span class="ow">in</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[ ,]+&quot;</span><span class="p">,</span> <span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">weights</span><span class="p">)</span>
        <span class="p">]</span>
        <span class="n">weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">matched_weights</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>

        <span class="c1"># Run the set weights operation.</span>
        <span class="n">subtensor</span><span class="o">.</span><span class="n">root_set_weights</span><span class="p">(</span>
            <span class="n">wallet</span><span class="o">=</span><span class="n">wallet</span><span class="p">,</span>
            <span class="n">netuids</span><span class="o">=</span><span class="n">netuids</span><span class="p">,</span>
            <span class="n">weights</span><span class="o">=</span><span class="n">weights</span><span class="p">,</span>
            <span class="n">version_key</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">prompt</span><span class="o">=</span><span class="ow">not</span> <span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">no_prompt</span><span class="p">,</span>
            <span class="n">wait_for_finalization</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">wait_for_inclusion</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="RootSetWeightsCommand.add_args">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootSetWeightsCommand.add_args">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">add_args</span><span class="p">(</span><span class="n">parser</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">):</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">add_parser</span><span class="p">(</span><span class="s2">&quot;weights&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Set weights for root network.&quot;&quot;&quot;</span><span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--netuids&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;netuids&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--weights&quot;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;weights&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="n">bittensor</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">add_args</span><span class="p">(</span><span class="n">parser</span><span class="p">)</span>
        <span class="n">bittensor</span><span class="o">.</span><span class="n">subtensor</span><span class="o">.</span><span class="n">add_args</span><span class="p">(</span><span class="n">parser</span><span class="p">)</span></div>


<div class="viewcode-block" id="RootSetWeightsCommand.check_config">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootSetWeightsCommand.check_config">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">check_config</span><span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="s2">&quot;bittensor.config&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">is_set</span><span class="p">(</span><span class="s2">&quot;wallet.name&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">no_prompt</span><span class="p">:</span>
            <span class="n">wallet_name</span> <span class="o">=</span> <span class="n">Prompt</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="s2">&quot;Enter wallet name&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">defaults</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="n">config</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">wallet_name</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">is_set</span><span class="p">(</span><span class="s2">&quot;wallet.hotkey&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">no_prompt</span><span class="p">:</span>
            <span class="n">hotkey</span> <span class="o">=</span> <span class="n">Prompt</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="s2">&quot;Enter hotkey name&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">defaults</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">hotkey</span><span class="p">)</span>
            <span class="n">config</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">hotkey</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">hotkey</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="RootGetWeightsCommand">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootGetWeightsCommand">[docs]</a>
<span class="k">class</span> <span class="nc">RootGetWeightsCommand</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Executes the ``get_weights`` command to retrieve the weights set for the root network on the Bittensor network.</span>

<span class="sd">    This command provides visibility into how network responsibilities and rewards are distributed among various subnets.</span>

<span class="sd">    Usage:</span>
<span class="sd">        The command outputs a table listing the weights assigned to each subnet within the root network. This information is crucial for understanding the current influence and reward distribution among the subnets.</span>

<span class="sd">    Optional arguments:</span>
<span class="sd">        - None. The command fetches weight information based on the subtensor configuration.</span>

<span class="sd">    Example usage::</span>

<span class="sd">        $ btcli root get_weights</span>

<span class="sd">                                                Root Network Weights</span>
<span class="sd">        UID        0        1        2       3        4        5       8        9       11     13      18       19</span>
<span class="sd">        1    100.00%        -        -       -        -        -       -        -        -      -       -        -</span>
<span class="sd">        2          -   40.00%    5.00%  10.00%   10.00%   10.00%  10.00%    5.00%        -      -  10.00%        -</span>
<span class="sd">        3          -        -   25.00%       -   25.00%        -  25.00%        -        -      -  25.00%        -</span>
<span class="sd">        4          -        -    7.00%   7.00%   20.00%   20.00%  20.00%        -    6.00%      -  20.00%        -</span>
<span class="sd">        5          -   20.00%        -  10.00%   15.00%   15.00%  15.00%    5.00%        -      -  10.00%   10.00%</span>
<span class="sd">        6          -        -        -       -   10.00%   10.00%  25.00%   25.00%        -      -  30.00%        -</span>
<span class="sd">        7          -   60.00%        -       -   20.00%        -       -        -   20.00%      -       -        -</span>
<span class="sd">        8          -   49.35%        -   7.18%   13.59%   21.14%   1.53%    0.12%    7.06%  0.03%       -        -</span>
<span class="sd">        9    100.00%        -        -       -        -        -       -        -        -      -       -        -</span>
<span class="sd">        ...</span>

<span class="sd">    Note:</span>
<span class="sd">        This command is essential for users interested in the governance and operational dynamics of the Bittensor network. It offers transparency into how network rewards and responsibilities are allocated across different subnets.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="RootGetWeightsCommand.run">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootGetWeightsCommand.run">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">cli</span><span class="p">:</span> <span class="s2">&quot;bittensor.cli&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Get weights for root network.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">subtensor</span><span class="p">:</span> <span class="s2">&quot;bittensor.subtensor&quot;</span> <span class="o">=</span> <span class="n">bittensor</span><span class="o">.</span><span class="n">subtensor</span><span class="p">(</span>
                <span class="n">config</span><span class="o">=</span><span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">log_verbose</span><span class="o">=</span><span class="kc">False</span>
            <span class="p">)</span>
            <span class="n">RootGetWeightsCommand</span><span class="o">.</span><span class="n">_run</span><span class="p">(</span><span class="n">cli</span><span class="p">,</span> <span class="n">subtensor</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;subtensor&quot;</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">():</span>
                <span class="n">subtensor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
                <span class="n">bittensor</span><span class="o">.</span><span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;closing subtensor connection&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="RootGetWeightsCommand._run">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootGetWeightsCommand._run">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_run</span><span class="p">(</span><span class="n">cli</span><span class="p">:</span> <span class="s2">&quot;bittensor.cli&quot;</span><span class="p">,</span> <span class="n">subtensor</span><span class="p">:</span> <span class="s2">&quot;bittensor.subtensor&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Get weights for root network.&quot;&quot;&quot;</span>
        <span class="n">weights</span> <span class="o">=</span> <span class="n">subtensor</span><span class="o">.</span><span class="n">weights</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_footer</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;[white]Root Network Weights&quot;</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span>
            <span class="s2">&quot;[white]UID&quot;</span><span class="p">,</span>
            <span class="n">header_style</span><span class="o">=</span><span class="s2">&quot;overline white&quot;</span><span class="p">,</span>
            <span class="n">footer_style</span><span class="o">=</span><span class="s2">&quot;overline white&quot;</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="s2">&quot;rgb(50,163,219)&quot;</span><span class="p">,</span>
            <span class="n">no_wrap</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">uid_to_weights</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">netuids</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">matrix</span> <span class="ow">in</span> <span class="n">weights</span><span class="p">:</span>
            <span class="p">[</span><span class="n">uid</span><span class="p">,</span> <span class="n">weights_data</span><span class="p">]</span> <span class="o">=</span> <span class="n">matrix</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">weights_data</span><span class="p">):</span>
                <span class="n">uid_to_weights</span><span class="p">[</span><span class="n">uid</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="n">normalized_weights</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">normalized_weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">weights_data</span><span class="p">)[:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="nb">max</span><span class="p">(</span>
                    <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">weights_data</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span>
                <span class="p">)</span>

            <span class="k">for</span> <span class="n">weight_data</span><span class="p">,</span> <span class="n">normalized_weight</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">weights_data</span><span class="p">,</span> <span class="n">normalized_weights</span><span class="p">):</span>
                <span class="p">[</span><span class="n">netuid</span><span class="p">,</span> <span class="n">_</span><span class="p">]</span> <span class="o">=</span> <span class="n">weight_data</span>
                <span class="n">netuids</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">netuid</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">uid</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">uid_to_weights</span><span class="p">:</span>
                    <span class="n">uid_to_weights</span><span class="p">[</span><span class="n">uid</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

                <span class="n">uid_to_weights</span><span class="p">[</span><span class="n">uid</span><span class="p">][</span><span class="n">netuid</span><span class="p">]</span> <span class="o">=</span> <span class="n">normalized_weight</span>

        <span class="k">for</span> <span class="n">netuid</span> <span class="ow">in</span> <span class="n">netuids</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;[white]</span><span class="si">{</span><span class="n">netuid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">header_style</span><span class="o">=</span><span class="s2">&quot;overline white&quot;</span><span class="p">,</span>
                <span class="n">footer_style</span><span class="o">=</span><span class="s2">&quot;overline white&quot;</span><span class="p">,</span>
                <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span>
                <span class="n">style</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">,</span>
                <span class="n">no_wrap</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">for</span> <span class="n">uid</span> <span class="ow">in</span> <span class="n">uid_to_weights</span><span class="p">:</span>
            <span class="n">row</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">uid</span><span class="p">)]</span>

            <span class="n">uid_weights</span> <span class="o">=</span> <span class="n">uid_to_weights</span><span class="p">[</span><span class="n">uid</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">netuid</span> <span class="ow">in</span> <span class="n">netuids</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">netuid</span> <span class="ow">in</span> <span class="n">uid_weights</span><span class="p">:</span>
                    <span class="n">normalized_weight</span> <span class="o">=</span> <span class="n">uid_weights</span><span class="p">[</span><span class="n">netuid</span><span class="p">]</span>
                    <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{:0.2f}</span><span class="s2">%&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">normalized_weight</span> <span class="o">*</span> <span class="mi">100</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="o">*</span><span class="n">row</span><span class="p">)</span>

        <span class="n">table</span><span class="o">.</span><span class="n">show_footer</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">table</span><span class="o">.</span><span class="n">box</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">table</span><span class="o">.</span><span class="n">pad_edge</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">table</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">bittensor</span><span class="o">.</span><span class="n">__console__</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span></div>


<div class="viewcode-block" id="RootGetWeightsCommand.add_args">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootGetWeightsCommand.add_args">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">add_args</span><span class="p">(</span><span class="n">parser</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">):</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">add_parser</span><span class="p">(</span>
            <span class="s2">&quot;get_weights&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Get weights for root network.&quot;&quot;&quot;</span>
        <span class="p">)</span>

        <span class="n">bittensor</span><span class="o">.</span><span class="n">wallet</span><span class="o">.</span><span class="n">add_args</span><span class="p">(</span><span class="n">parser</span><span class="p">)</span>
        <span class="n">bittensor</span><span class="o">.</span><span class="n">subtensor</span><span class="o">.</span><span class="n">add_args</span><span class="p">(</span><span class="n">parser</span><span class="p">)</span></div>


<div class="viewcode-block" id="RootGetWeightsCommand.check_config">
<a class="viewcode-back" href="../../../autoapi/bittensor/commands/root/index.html#bittensor.commands.RootGetWeightsCommand.check_config">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">check_config</span><span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="s2">&quot;bittensor.config&quot;</span><span class="p">):</span>
        <span class="k">pass</span></div>
</div>

</pre></div>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Opentensor Foundation
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024, Opentensor Foundation.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>