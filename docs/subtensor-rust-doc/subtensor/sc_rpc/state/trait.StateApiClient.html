<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Client implementation for the `StateApi` RPC API."><title>StateApiClient in sc_rpc::state - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-6c3ea77c.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="sc_rpc" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0 (05f9846f8 2025-03-31)" data-channel="1.86.0" data-search-js="search-581efc7a.js" data-settings-js="settings-6dad6058.js" ><script src="../../static.files/storage-3a5871a4.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-4d63596a.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../sc_rpc/index.html">sc_rpc</a><span class="version">40.0.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">State<wbr>ApiClient</a></h2><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.call" title="call">call</a></li><li><a href="#method.metadata" title="metadata">metadata</a></li><li><a href="#method.query_storage" title="query_storage">query_storage</a></li><li><a href="#method.query_storage_at" title="query_storage_at">query_storage_at</a></li><li><a href="#method.read_proof" title="read_proof">read_proof</a></li><li><a href="#method.runtime_version" title="runtime_version">runtime_version</a></li><li><a href="#method.storage" title="storage">storage</a></li><li><a href="#method.storage_hash" title="storage_hash">storage_hash</a></li><li><a href="#method.storage_keys" title="storage_keys">storage_keys</a></li><li><a href="#method.storage_keys_paged" title="storage_keys_paged">storage_keys_paged</a></li><li><a href="#method.storage_pairs" title="storage_pairs">storage_pairs</a></li><li><a href="#method.storage_size" title="storage_size">storage_size</a></li><li><a href="#method.subscribe_runtime_version" title="subscribe_runtime_version">subscribe_runtime_version</a></li><li><a href="#method.subscribe_storage" title="subscribe_storage">subscribe_storage</a></li><li><a href="#method.trace_block" title="trace_block">trace_block</a></li></ul><h3><a href="#dyn-compatibility">Dyn Compatibility</a></h3><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In sc_<wbr>rpc::<wbr>state</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">sc_rpc</a>::<wbr><a href="index.html">state</a></div><h1>Trait <span class="trait">StateApiClient</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/sc_rpc_api/state/mod.rs.html#35">Source</a> </span></div><pre class="rust item-decl"><code>pub trait StateApiClient&lt;Hash&gt;: <a class="trait" href="../../jsonrpsee_core/client/trait.SubscriptionClientT.html" title="trait jsonrpsee_core::client::SubscriptionClientT">SubscriptionClientT</a><div class="where">where
    Hash: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static + <a class="trait" href="../../serde/ser/trait.Serialize.html" title="trait serde::ser::Serialize">Serialize</a> + <a class="trait" href="../../serde/de/trait.DeserializeOwned.html" title="trait serde::de::DeserializeOwned">DeserializeOwned</a>,</div>{
<details class="toggle type-contents-toggle"><summary class="hideme"><span>Show 15 methods</span></summary>    // Provided methods
    fn <a href="#method.call" class="fn">call</a>&lt;'life0, 'async_trait&gt;(
        &amp;'life0 self,
        name: <a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>,
        bytes: <a class="struct" href="../../sp_core/struct.Bytes.html" title="struct sp_core::Bytes">Bytes</a>,
        hash: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../sp_core/struct.Bytes.html" title="struct sp_core::Bytes">Bytes</a>, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.storage_keys" class="fn">storage_keys</a>&lt;'life0, 'async_trait&gt;(
        &amp;'life0 self,
        prefix: <a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>,
        hash: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.storage_pairs" class="fn">storage_pairs</a>&lt;'life0, 'async_trait&gt;(
        &amp;'life0 self,
        prefix: <a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>,
        hash: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;(<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>, <a class="struct" href="../../sp_storage/struct.StorageData.html" title="struct sp_storage::StorageData">StorageData</a>)&gt;, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.storage_keys_paged" class="fn">storage_keys_paged</a>&lt;'life0, 'async_trait&gt;(
        &amp;'life0 self,
        prefix: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;,
        count: <a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u32.html">u32</a>,
        start_key: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;,
        hash: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.storage" class="fn">storage</a>&lt;'life0, 'async_trait&gt;(
        &amp;'life0 self,
        key: <a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>,
        hash: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageData.html" title="struct sp_storage::StorageData">StorageData</a>&gt;, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.storage_hash" class="fn">storage_hash</a>&lt;'life0, 'async_trait&gt;(
        &amp;'life0 self,
        key: <a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>,
        hash: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.storage_size" class="fn">storage_size</a>&lt;'life0, 'async_trait&gt;(
        &amp;'life0 self,
        key: <a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>,
        hash: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u64.html">u64</a>&gt;, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.metadata" class="fn">metadata</a>&lt;'life0, 'async_trait&gt;(
        &amp;'life0 self,
        hash: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../sp_core/struct.Bytes.html" title="struct sp_core::Bytes">Bytes</a>, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.runtime_version" class="fn">runtime_version</a>&lt;'life0, 'async_trait&gt;(
        &amp;'life0 self,
        hash: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../sp_version/struct.RuntimeVersion.html" title="struct sp_version::RuntimeVersion">RuntimeVersion</a>, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.query_storage" class="fn">query_storage</a>&lt;'life0, 'async_trait&gt;(
        &amp;'life0 self,
        keys: <a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;,
        block: Hash,
        hash: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageChangeSet.html" title="struct sp_storage::StorageChangeSet">StorageChangeSet</a>&lt;Hash&gt;&gt;, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.query_storage_at" class="fn">query_storage_at</a>&lt;'life0, 'async_trait&gt;(
        &amp;'life0 self,
        keys: <a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;,
        at: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageChangeSet.html" title="struct sp_storage::StorageChangeSet">StorageChangeSet</a>&lt;Hash&gt;&gt;, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.read_proof" class="fn">read_proof</a>&lt;'life0, 'async_trait&gt;(
        &amp;'life0 self,
        keys: <a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;,
        hash: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.ReadProof.html" title="struct sc_rpc::state::ReadProof">ReadProof</a>&lt;Hash&gt;, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.trace_block" class="fn">trace_block</a>&lt;'life0, 'async_trait&gt;(
        &amp;'life0 self,
        block: Hash,
        targets: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;,
        storage_keys: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;,
        methods: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="../../sp_rpc/tracing/enum.TraceBlockResponse.html" title="enum sp_rpc::tracing::TraceBlockResponse">TraceBlockResponse</a>, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.subscribe_runtime_version" class="fn">subscribe_runtime_version</a>&lt;'life0, 'async_trait&gt;(
        &amp;'life0 self,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../jsonrpsee_core/client/struct.Subscription.html" title="struct jsonrpsee_core::client::Subscription">Subscription</a>&lt;<a class="struct" href="../../sp_version/struct.RuntimeVersion.html" title="struct sp_version::RuntimeVersion">RuntimeVersion</a>&gt;, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.subscribe_storage" class="fn">subscribe_storage</a>&lt;'life0, 'async_trait&gt;(
        &amp;'life0 self,
        keys: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;&gt;,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../jsonrpsee_core/client/struct.Subscription.html" title="struct jsonrpsee_core::client::Subscription">Subscription</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageChangeSet.html" title="struct sp_storage::StorageChangeSet">StorageChangeSet</a>&lt;Hash&gt;&gt;, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;
       <span class="where">where 'life0: 'async_trait,
             Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait</span> { ... }
</details>}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Client implementation for the <code>StateApi</code> RPC API.</p>
</div></details><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.call" class="method"><a class="src rightside" href="../../src/sc_rpc_api/state/mod.rs.html#35">Source</a><h4 class="code-header">fn <a href="#method.call" class="fn">call</a>&lt;'life0, 'async_trait&gt;(
    &amp;'life0 self,
    name: <a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>,
    bytes: <a class="struct" href="../../sp_core/struct.Bytes.html" title="struct sp_core::Bytes">Bytes</a>,
    hash: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../sp_core/struct.Bytes.html" title="struct sp_core::Bytes">Bytes</a>, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section></summary><div class="docblock"><p>Call a method from the runtime API at a block’s state.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.storage_keys" class="method"><a class="src rightside" href="../../src/sc_rpc_api/state/mod.rs.html#35">Source</a><h4 class="code-header">fn <a href="#method.storage_keys" class="fn">storage_keys</a>&lt;'life0, 'async_trait&gt;(
    &amp;'life0 self,
    prefix: <a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>,
    hash: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section><span class="item-info"><div class="stab deprecated"><span class="emoji">👎</span><span>Deprecated since 2.0.0: Please use <code>getKeysPaged</code> with proper paging support</span></div></span></summary><div class="docblock"><p>Returns the keys with prefix, leave empty to get all the keys.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.storage_pairs" class="method"><a class="src rightside" href="../../src/sc_rpc_api/state/mod.rs.html#35">Source</a><h4 class="code-header">fn <a href="#method.storage_pairs" class="fn">storage_pairs</a>&lt;'life0, 'async_trait&gt;(
    &amp;'life0 self,
    prefix: <a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>,
    hash: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;(<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>, <a class="struct" href="../../sp_storage/struct.StorageData.html" title="struct sp_storage::StorageData">StorageData</a>)&gt;, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section></summary><div class="docblock"><p>Returns the keys with prefix, leave empty to get all the keys</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.storage_keys_paged" class="method"><a class="src rightside" href="../../src/sc_rpc_api/state/mod.rs.html#35">Source</a><h4 class="code-header">fn <a href="#method.storage_keys_paged" class="fn">storage_keys_paged</a>&lt;'life0, 'async_trait&gt;(
    &amp;'life0 self,
    prefix: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;,
    count: <a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u32.html">u32</a>,
    start_key: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;,
    hash: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section></summary><div class="docblock"><p>Returns the keys with prefix with pagination support.
Up to <code>count</code> keys will be returned.
If <code>start_key</code> is passed, return next keys in storage in lexicographic order.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.storage" class="method"><a class="src rightside" href="../../src/sc_rpc_api/state/mod.rs.html#35">Source</a><h4 class="code-header">fn <a href="#method.storage" class="fn">storage</a>&lt;'life0, 'async_trait&gt;(
    &amp;'life0 self,
    key: <a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>,
    hash: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageData.html" title="struct sp_storage::StorageData">StorageData</a>&gt;, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section></summary><div class="docblock"><p>Returns a storage entry at a specific block’s state.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.storage_hash" class="method"><a class="src rightside" href="../../src/sc_rpc_api/state/mod.rs.html#35">Source</a><h4 class="code-header">fn <a href="#method.storage_hash" class="fn">storage_hash</a>&lt;'life0, 'async_trait&gt;(
    &amp;'life0 self,
    key: <a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>,
    hash: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section></summary><div class="docblock"><p>Returns the hash of a storage entry at a block’s state.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.storage_size" class="method"><a class="src rightside" href="../../src/sc_rpc_api/state/mod.rs.html#35">Source</a><h4 class="code-header">fn <a href="#method.storage_size" class="fn">storage_size</a>&lt;'life0, 'async_trait&gt;(
    &amp;'life0 self,
    key: <a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>,
    hash: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u64.html">u64</a>&gt;, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section></summary><div class="docblock"><p>Returns the size of a storage entry at a block’s state.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.metadata" class="method"><a class="src rightside" href="../../src/sc_rpc_api/state/mod.rs.html#35">Source</a><h4 class="code-header">fn <a href="#method.metadata" class="fn">metadata</a>&lt;'life0, 'async_trait&gt;(
    &amp;'life0 self,
    hash: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../sp_core/struct.Bytes.html" title="struct sp_core::Bytes">Bytes</a>, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section></summary><div class="docblock"><p>Returns the runtime metadata as an opaque blob.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.runtime_version" class="method"><a class="src rightside" href="../../src/sc_rpc_api/state/mod.rs.html#35">Source</a><h4 class="code-header">fn <a href="#method.runtime_version" class="fn">runtime_version</a>&lt;'life0, 'async_trait&gt;(
    &amp;'life0 self,
    hash: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../sp_version/struct.RuntimeVersion.html" title="struct sp_version::RuntimeVersion">RuntimeVersion</a>, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section></summary><div class="docblock"><p>Get the runtime version.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.query_storage" class="method"><a class="src rightside" href="../../src/sc_rpc_api/state/mod.rs.html#35">Source</a><h4 class="code-header">fn <a href="#method.query_storage" class="fn">query_storage</a>&lt;'life0, 'async_trait&gt;(
    &amp;'life0 self,
    keys: <a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;,
    block: Hash,
    hash: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageChangeSet.html" title="struct sp_storage::StorageChangeSet">StorageChangeSet</a>&lt;Hash&gt;&gt;, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section></summary><div class="docblock"><p>Query historical storage entries (by key) starting from a block given as the second
parameter.</p>
<p>NOTE: The first returned result contains the initial state of storage for all keys.
Subsequent values in the vector represent changes to the previous state (diffs).
WARNING: The time complexity of this query is O(|keys|*dist(block, hash)), and the
memory complexity is O(dist(block, hash)) – use with caution.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.query_storage_at" class="method"><a class="src rightside" href="../../src/sc_rpc_api/state/mod.rs.html#35">Source</a><h4 class="code-header">fn <a href="#method.query_storage_at" class="fn">query_storage_at</a>&lt;'life0, 'async_trait&gt;(
    &amp;'life0 self,
    keys: <a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;,
    at: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageChangeSet.html" title="struct sp_storage::StorageChangeSet">StorageChangeSet</a>&lt;Hash&gt;&gt;, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section></summary><div class="docblock"><p>Query storage entries (by key) at a block hash given as the second parameter.
NOTE: Each StorageChangeSet in the result corresponds to exactly one element –
the storage value under an input key at the input block hash.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.read_proof" class="method"><a class="src rightside" href="../../src/sc_rpc_api/state/mod.rs.html#35">Source</a><h4 class="code-header">fn <a href="#method.read_proof" class="fn">read_proof</a>&lt;'life0, 'async_trait&gt;(
    &amp;'life0 self,
    keys: <a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;,
    hash: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Hash&gt;,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.ReadProof.html" title="struct sc_rpc::state::ReadProof">ReadProof</a>&lt;Hash&gt;, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section></summary><div class="docblock"><p>Returns proof of storage entries at a specific block’s state.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.trace_block" class="method"><a class="src rightside" href="../../src/sc_rpc_api/state/mod.rs.html#35">Source</a><h4 class="code-header">fn <a href="#method.trace_block" class="fn">trace_block</a>&lt;'life0, 'async_trait&gt;(
    &amp;'life0 self,
    block: Hash,
    targets: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;,
    storage_keys: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;,
    methods: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="../../sp_rpc/tracing/enum.TraceBlockResponse.html" title="enum sp_rpc::tracing::TraceBlockResponse">TraceBlockResponse</a>, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section></summary><div class="docblock"><p>The <code>traceBlock</code> RPC provides a way to trace the re-execution of a single
block, collecting Spans and Events from both the client and the relevant WASM runtime.
The Spans and Events are conceptually equivalent to those from the <a href="https://crates.io/crates/tracing">Tracing</a> crate.</p>
<p>The structure of the traces follows that of the block execution pipeline, so meaningful
interpretation of the traces requires an understanding of the Substrate chain’s block
execution.</p>
<p><a href="https://docs.google.com/drawings/d/1vZoJo9jaXlz0LmrdTOgHck9_1LsfuQPRmTr-5g1tOis/edit?usp=sharing">Link to conceptual map of trace structure for Polkadot and Kusama block execution.</a></p>
<h6 id="node-requirements"><a class="doc-anchor" href="#node-requirements">§</a>Node requirements</h6>
<ul>
<li>Fully synced archive node (i.e. a node that is not actively doing a “major” sync).</li>
<li><a href="#creating-tracing-enabled-wasm-runtimes">Tracing enabled WASM runtimes</a> for all runtime
versions
for which tracing is desired.</li>
</ul>
<h6 id="node-recommendations"><a class="doc-anchor" href="#node-recommendations">§</a>Node recommendations</h6>
<ul>
<li>Use fast SSD disk storage.</li>
<li>Run node flags to increase DB read speed (i.e. <code>--state-cache-size</code>, <code>--db-cache</code>).</li>
</ul>
<h6 id="creating-tracing-enabled-wasm-runtimes"><a class="doc-anchor" href="#creating-tracing-enabled-wasm-runtimes">§</a>Creating tracing enabled WASM runtimes</h6>
<ul>
<li>Checkout commit of chain version to compile with WASM traces</li>
<li><a href="https://crates.io/crates/tracing">diener</a> can help to peg commit of substrate to what the chain expects.</li>
<li>Navigate to the <code>runtime</code> folder/package of the chain</li>
<li>Add feature <code>with-tracing = ["frame-executive/with-tracing", "sp-io/with-tracing"]</code>
under <code>[features]</code> to the <code>runtime</code> packages’ <code>Cargo.toml</code>.</li>
<li>Compile the runtime with <code>cargo build --release --features with-tracing</code></li>
<li>Tracing-enabled WASM runtime should be found in
<code>./target/release/wbuild/{{chain}}-runtime</code>
and be called something like <code>{{your_chain}}_runtime.compact.wasm</code>. This can be
renamed/modified however you like, as long as it retains the <code>.wasm</code> extension.</li>
<li>Run the node with the wasm blob overrides by placing them in a folder with all your
runtimes,
and passing the path of this folder to your chain, e.g.:</li>
<li><code>./target/release/polkadot --wasm-runtime-overrides /home/user/my-custom-wasm-runtimes</code></li>
</ul>
<p>You can also find some pre-built tracing enabled wasm runtimes in <a href="https://docs.google.com/drawings/d/1vZoJo9jaXlz0LmrdTOgHck9_1LsfuQPRmTr-5g1tOis/edit?usp=sharing">substrate-archive</a></p>
<p><a href="https://github.com/paritytech/substrate-archive/wiki">Source.</a></p>
<h6 id="rpc-usage"><a class="doc-anchor" href="#rpc-usage">§</a>RPC Usage</h6>
<p>The RPC allows for two filtering mechanisms: tracing targets and storage key prefixes.
The filtering of spans and events takes place after they are all collected; so while filters
do not reduce time for actual block re-execution, they reduce the response payload size.</p>
<p>Note: storage events primarily come from <em>primitives/state-machine/src/ext.rs</em>.
The default filters can be overridden, see the <a href="#params">params section</a> for details.</p>
<h6 id="curl-example"><a class="doc-anchor" href="#curl-example">§</a><code>curl</code> example</h6>
<ul>
<li>Get tracing spans and events</li>
</ul>
<div class="example-wrap"><pre class="language-text"><code>curl \
	-H &quot;Content-Type: application/json&quot; \
	-d &#39;{&quot;id&quot;:1, &quot;jsonrpc&quot;:&quot;2.0&quot;, &quot;method&quot;: &quot;state_traceBlock&quot;, \
		&quot;params&quot;: [&quot;0xb246acf1adea1f801ce15c77a5fa7d8f2eb8fed466978bcee172cc02cf64e264&quot;, &quot;pallet,frame,state&quot;, &quot;&quot;, &quot;&quot;]}&#39; \
	http://localhost:9933/</code></pre></div>
<ul>
<li>Get tracing events with all <code>storage_keys</code></li>
</ul>
<div class="example-wrap"><pre class="language-text"><code>curl \
	-H &quot;Content-Type: application/json&quot; \
	-d &#39;{&quot;id&quot;:1, &quot;jsonrpc&quot;:&quot;2.0&quot;, &quot;method&quot;: &quot;state_traceBlock&quot;, \
		&quot;params&quot;: [&quot;0xb246acf1adea1f801ce15c77a5fa7d8f2eb8fed466978bcee172cc02cf64e264&quot;, &quot;state&quot;, &quot;&quot;, &quot;&quot;]}&#39; \
	http://localhost:9933/</code></pre></div>
<ul>
<li>Get tracing events with <code>storage_keys</code> (‘f0c365c3cf59d671eb72da0e7a4113c4’)</li>
</ul>
<div class="example-wrap"><pre class="language-text"><code>curl \
	-H &quot;Content-Type: application/json&quot; \
	-d &#39;{&quot;id&quot;:1, &quot;jsonrpc&quot;:&quot;2.0&quot;, &quot;method&quot;: &quot;state_traceBlock&quot;, \
		&quot;params&quot;: [&quot;0xb246acf1adea1f801ce15c77a5fa7d8f2eb8fed466978bcee172cc02cf64e264&quot;, &quot;state&quot;, &quot;f0c365c3cf59d671eb72da0e7a4113c4&quot;, &quot;&quot;]}&#39; \
	http://localhost:9933/</code></pre></div>
<ul>
<li>Get tracing events with <code>storage_keys</code> (‘f0c365c3cf59d671eb72da0e7a4113c4’) and method
(‘Put’)</li>
</ul>
<div class="example-wrap"><pre class="language-text"><code>curl \
	-H &quot;Content-Type: application/json&quot; \
	-d &#39;{&quot;id&quot;:1, &quot;jsonrpc&quot;:&quot;2.0&quot;, &quot;method&quot;: &quot;state_traceBlock&quot;, \
		&quot;params&quot;: [&quot;0xb246acf1adea1f801ce15c77a5fa7d8f2eb8fed466978bcee172cc02cf64e264&quot;, &quot;state&quot;, &quot;f0c365c3cf59d671eb72da0e7a4113c4&quot;, &quot;Put&quot;]}&#39; \
	http://localhost:9933/</code></pre></div>
<ul>
<li>Get tracing events with all <code>storage_keys</code> and method (‘Put’)</li>
</ul>
<div class="example-wrap"><pre class="language-text"><code>curl \
	-H &quot;Content-Type: application/json&quot; \
	-d &#39;{&quot;id&quot;:1, &quot;jsonrpc&quot;:&quot;2.0&quot;, &quot;method&quot;: &quot;state_traceBlock&quot;, \
		&quot;params&quot;: [&quot;0xb246acf1adea1f801ce15c77a5fa7d8f2eb8fed466978bcee172cc02cf64e264&quot;, &quot;state&quot;, &quot;&quot;, &quot;Put&quot;]}&#39; \
	http://localhost:9933/</code></pre></div><h6 id="params"><a class="doc-anchor" href="#params">§</a>Params</h6>
<ul>
<li><code>block</code> (param index 0): Hash of the block to trace.</li>
<li><code>targets</code> (param index 1): String of comma separated (no spaces) targets. Specified
targets match with trace targets by prefix (i.e if a target is in the beginning
of a trace target it is considered a match). If an empty string is specified no
targets will be filtered out. The majority of targets correspond to Rust module names,
and the ones that do not are typically “hardcoded” into span or event location
somewhere in the Substrate source code. (“Non-hardcoded” targets typically come from frame
support macros.)</li>
<li><code>storage_keys</code> (param index 2): String of comma separated (no spaces) hex encoded
(no <code>0x</code> prefix) storage keys. If an empty string is specified no events will
be filtered out. If anything other than an empty string is specified, events
will be filtered by storage key (so non-storage events will <strong>not</strong> show up).
You can specify any length of a storage key prefix (i.e. if a specified storage
key is in the beginning of an events storage key it is considered a match).
Example: for balance tracking on Polkadot &amp; Kusama you would likely want
to track changes to account balances with the frame_system::Account storage item,
which is a map from <code>AccountId</code> to <code>AccountInfo</code>. The key filter for this would be
the storage prefix for the map:
<code>26aa394eea5630e07c48ae0c9558cef7b99d880ec681799c0cf30e8886371da9</code></li>
<li><code>methods</code> (param index 3): String of comma separated (no spaces) tracing event method.
If an empty string is specified no events will be filtered out. If anything other than
an empty string is specified, events will be filtered by method (so non-method events will
<strong>not</strong> show up).</li>
</ul>
<p>Additionally you would want to track the extrinsic index, which is under the
<code>:extrinsic_index</code> key. The key for this would be the aforementioned string as bytes
in hex: <code>3a65787472696e7369635f696e646578</code>.
The following are some resources to learn more about storage keys in substrate:
<a href="https://crates.io/crates/tracing">substrate storage</a>, <a href="https://docs.google.com/drawings/d/1vZoJo9jaXlz0LmrdTOgHck9_1LsfuQPRmTr-5g1tOis/edit?usp=sharing">transparent keys in substrate</a>,
<a href="https://github.com/paritytech/substrate-archive/wiki">querying substrate storage via rpc</a>.</p>
<h6 id="maximum-payload-size"><a class="doc-anchor" href="#maximum-payload-size">§</a>Maximum payload size</h6>
<p>The maximum payload size allowed is 15mb. Payloads over this size will return a
object with a simple error message. If you run into issues with payload size you can
narrow down the traces using a smaller set of targets and/or storage keys.</p>
<p>If you are having issues with maximum payload size you can use the flag
<code>-ltracing=trace</code> to get some logging during tracing.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.subscribe_runtime_version" class="method"><a class="src rightside" href="../../src/sc_rpc_api/state/mod.rs.html#35">Source</a><h4 class="code-header">fn <a href="#method.subscribe_runtime_version" class="fn">subscribe_runtime_version</a>&lt;'life0, 'async_trait&gt;(
    &amp;'life0 self,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../jsonrpsee_core/client/struct.Subscription.html" title="struct jsonrpsee_core::client::Subscription">Subscription</a>&lt;<a class="struct" href="../../sp_version/struct.RuntimeVersion.html" title="struct sp_version::RuntimeVersion">RuntimeVersion</a>&gt;, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section></summary><div class="docblock"><p>New runtime version subscription</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.subscribe_storage" class="method"><a class="src rightside" href="../../src/sc_rpc_api/state/mod.rs.html#35">Source</a><h4 class="code-header">fn <a href="#method.subscribe_storage" class="fn">subscribe_storage</a>&lt;'life0, 'async_trait&gt;(
    &amp;'life0 self,
    keys: <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageKey.html" title="struct sp_storage::StorageKey">StorageKey</a>&gt;&gt;,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../../jsonrpsee_core/client/struct.Subscription.html" title="struct jsonrpsee_core::client::Subscription">Subscription</a>&lt;<a class="struct" href="../../sp_storage/struct.StorageChangeSet.html" title="struct sp_storage::StorageChangeSet">StorageChangeSet</a>&lt;Hash&gt;&gt;, <a class="enum" href="../../jsonrpsee_core/client/error/enum.Error.html" title="enum jsonrpsee_core::client::error::Error">Error</a>&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<div class="where">where
    'life0: 'async_trait,
    Self: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,</div></h4></section></summary><div class="docblock"><p>New storage subscription</p>
</div></details></div><h2 id="dyn-compatibility" class="section-header">Dyn Compatibility<a href="#dyn-compatibility" class="anchor">§</a></h2><div class="dyn-compatibility-info"><p>This trait is <b>not</b> <a href="https://doc.rust-lang.org/1.86.0/reference/items/traits.html#dyn-compatibility">dyn compatible</a>.</p><p><i>In older versions of Rust, dyn compatibility was called "object safety", so this trait is not object safe.</i></p></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-StateApiClient%3CHash%3E-for-TypeJsonRpseeInteral" class="impl"><a class="src rightside" href="../../src/sc_rpc_api/state/mod.rs.html#35">Source</a><a href="#impl-StateApiClient%3CHash%3E-for-TypeJsonRpseeInteral" class="anchor">§</a><h3 class="code-header">impl&lt;TypeJsonRpseeInteral, Hash&gt; <a class="trait" href="trait.StateApiClient.html" title="trait sc_rpc::state::StateApiClient">StateApiClient</a>&lt;Hash&gt; for TypeJsonRpseeInteral<div class="where">where
    TypeJsonRpseeInteral: <a class="trait" href="../../jsonrpsee_core/client/trait.SubscriptionClientT.html" title="trait jsonrpsee_core::client::SubscriptionClientT">SubscriptionClientT</a>,
    Hash: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static + <a class="trait" href="../../serde/ser/trait.Serialize.html" title="trait serde::ser::Serialize">Serialize</a> + <a class="trait" href="../../serde/de/trait.DeserializeOwned.html" title="trait serde::de::DeserializeOwned">DeserializeOwned</a>,</div></h3></section></div><script src="../../trait.impl/sc_rpc_api/state/trait.StateApiClient.js" async></script></section></div></main></body></html>