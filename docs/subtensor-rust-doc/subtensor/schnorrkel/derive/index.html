<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Implementation of “hierarchical deterministic key derivation” (HDKD) for Schnorr signatures on Ristretto"><title>schnorrkel::derive - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-6c3ea77c.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="schnorrkel" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0 (05f9846f8 2025-03-31)" data-channel="1.86.0" data-search-js="search-581efc7a.js" data-settings-js="settings-6dad6058.js" ><script src="../../static.files/storage-3a5871a4.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-4d63596a.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../schnorrkel/index.html">schnorrkel</a><span class="version">0.11.4</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module derive</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#implementation-of-hierarchical-deterministic-key-derivation-hdkd-for-schnorr-signatures-on-ristretto" title="Implementation of “hierarchical deterministic key derivation” (HDKD) for Schnorr signatures on Ristretto">Implementation of “hierarchical deterministic key derivation” (HDKD) for Schnorr signatures on Ristretto</a></li></ul><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#constants" title="Constants">Constants</a></li><li><a href="#traits" title="Traits">Traits</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="../index.html">In crate schnorrkel</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">schnorrkel</a></div><h1>Module <span>derive</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/schnorrkel/derive.rs.html#10-348">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h4 id="implementation-of-hierarchical-deterministic-key-derivation-hdkd-for-schnorr-signatures-on-ristretto"><a class="doc-anchor" href="#implementation-of-hierarchical-deterministic-key-derivation-hdkd-for-schnorr-signatures-on-ristretto">§</a>Implementation of “hierarchical deterministic key derivation” (HDKD) for Schnorr signatures on Ristretto</h4>
<p><em>Warning</em>  We warn that our VRF construction in vrf.rs supports
malleable VRF outputs via the <code>Malleable</code> type, which becomes
insecure when used in conjunction with our hierarchical key
derivation methods here.
Attackers could translate malleable VRF outputs from one soft subkey
to another soft subkey, gaining early knowledge of the VRF output.
We think most VRF applications for which HDKH sounds suitable
benefit from using implicit certificates instead of HDKD anyways,
which should also be secure in combination with HDKH.
We always use non-malleable VRF inputs in our convenience methods.
We suggest using implicit certificates instead of HDKD when
using VRFs.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.ChainCode.html" title="struct schnorrkel::derive::ChainCode">Chain<wbr>Code</a></dt><dd>We cannot assume the original public key is secret and additional
inputs might have low entropy, like <code>i</code> in BIP32.  As in BIP32,
chain codes fill this gap by being a high entropy secret shared
between public and private key holders.  These are produced by
key derivations and can be incorporated into subsequence key
derivations.
See https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki#extended-keys</dd><dt><a class="struct" href="struct.ExtendedKey.html" title="struct schnorrkel::derive::ExtendedKey">Extended<wbr>Key</a></dt><dd>A convenience wraper that combines derivable key and a chain code.</dd></dl><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">§</a></h2><dl class="item-table"><dt><a class="constant" href="constant.CHAIN_CODE_LENGTH.html" title="constant schnorrkel::derive::CHAIN_CODE_LENGTH">CHAIN_<wbr>CODE_<wbr>LENGTH</a></dt><dd>Length in bytes of our chain codes.</dd></dl><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><dl class="item-table"><dt><a class="trait" href="trait.Derivation.html" title="trait schnorrkel::derive::Derivation">Derivation</a></dt><dd>Key types that support “hierarchical deterministic” key derivation</dd></dl></section></div></main></body></html>