<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="High-level network manager."><title>libp2p::swarm - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-6c3ea77c.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="libp2p" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0 (05f9846f8 2025-03-31)" data-channel="1.86.0" data-search-js="search-581efc7a.js" data-settings-js="settings-6dad6058.js" ><script src="../../static.files/storage-3a5871a4.js"></script><script defer src="../../crates.js"></script><script defer src="../../static.files/main-4d63596a.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="icon" href="https://libp2p.io/img/favicon.png"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../libp2p/index.html"><img src="https://libp2p.io/img/logo_small.png" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../libp2p/index.html"><img src="https://libp2p.io/img/logo_small.png" alt="logo"></a><h2><a href="../../libp2p/index.html">libp2p</a><span class="version">0.52.4</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#initializing-a-swarm" title="Initializing a Swarm">Initializing a Swarm</a></li><li><a href="#network-behaviour" title="Network Behaviour">Network Behaviour</a></li><li><a href="#protocols-handler" title="Protocols Handler">Protocols Handler</a></li></ul><h3><a href="#modules">Crate Items</a></h3><ul class="block"><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#traits" title="Traits">Traits</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li><li><a href="#derives" title="Derive Macros">Derive Macros</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">libp2p</a></div><h1>Crate <span>swarm</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/libp2p_swarm/lib.rs.html#21-2563">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>High-level network manager.</p>
<p>A <a href="../struct.Swarm.html" title="struct libp2p::Swarm"><code>Swarm</code></a> contains the state of the network as a whole. The entire
behaviour of a libp2p network can be controlled through the <code>Swarm</code>.
The <code>Swarm</code> struct contains all active and pending connections to
remotes and manages the state of all the substreams that have been
opened, and all the upgrades that were built upon these substreams.</p>
<h2 id="initializing-a-swarm"><a class="doc-anchor" href="#initializing-a-swarm">§</a>Initializing a Swarm</h2>
<p>Creating a <code>Swarm</code> requires three things:</p>
<ol>
<li>A network identity of the local node in form of a <a href="../struct.PeerId.html" title="struct libp2p::PeerId"><code>PeerId</code></a>.</li>
<li>An implementation of the <a href="../trait.Transport.html" title="trait libp2p::Transport"><code>Transport</code></a> trait. This is the type that
will be used in order to reach nodes on the network based on their
address. See the <code>transport</code> module for more information.</li>
<li>An implementation of the <a href="trait.NetworkBehaviour.html" title="trait libp2p::swarm::NetworkBehaviour"><code>NetworkBehaviour</code></a> trait. This is a state
machine that defines how the swarm should behave once it is connected
to a node.</li>
</ol>
<h2 id="network-behaviour"><a class="doc-anchor" href="#network-behaviour">§</a>Network Behaviour</h2>
<p>The <a href="trait.NetworkBehaviour.html" title="trait libp2p::swarm::NetworkBehaviour"><code>NetworkBehaviour</code></a> trait is implemented on types that indicate to
the swarm how it should behave. This includes which protocols are supported
and which nodes to try to connect to. It is the <code>NetworkBehaviour</code> that
controls what happens on the network. Multiple types that implement
<code>NetworkBehaviour</code> can be composed into a single behaviour.</p>
<h2 id="protocols-handler"><a class="doc-anchor" href="#protocols-handler">§</a>Protocols Handler</h2>
<p>The <a href="trait.ConnectionHandler.html" title="trait libp2p::swarm::ConnectionHandler"><code>ConnectionHandler</code></a> trait defines how each active connection to a
remote should behave: how to handle incoming substreams, which protocols
are supported, when to open a new outbound substream, etc.</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><dl class="item-table"><dt><a class="mod" href="behaviour/index.html" title="mod libp2p::swarm::behaviour">behaviour</a></dt><dt><a class="mod" href="dial_opts/index.html" title="mod libp2p::swarm::dial_opts">dial_<wbr>opts</a></dt><dt><a class="mod" href="dummy/index.html" title="mod libp2p::swarm::dummy">dummy</a></dt><dt><a class="mod" href="handler/index.html" title="mod libp2p::swarm::handler">handler</a></dt><dd>Once a connection to a remote peer is established, a <a href="trait.ConnectionHandler.html" title="trait libp2p::swarm::ConnectionHandler"><code>ConnectionHandler</code></a> negotiates
and handles one or more specific protocols on the connection.</dd><dt><a class="mod" href="keep_alive/index.html" title="mod libp2p::swarm::keep_alive">keep_<wbr>alive</a><wbr><span class="stab deprecated" title="">Deprecated</span></dt></dl><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.AddressChange.html" title="struct libp2p::swarm::AddressChange">Address<wbr>Change</a></dt><dd><a href="enum.FromSwarm.html" title="enum libp2p::swarm::FromSwarm"><code>FromSwarm</code></a> variant that informs the behaviour that the <a href="../core/enum.ConnectedPoint.html" title="enum libp2p::core::ConnectedPoint"><code>ConnectedPoint</code></a> of an existing
connection has changed.</dd><dt><a class="struct" href="struct.Config.html" title="struct libp2p::swarm::Config">Config</a></dt><dt><a class="struct" href="struct.ConnectionClosed.html" title="struct libp2p::swarm::ConnectionClosed">Connection<wbr>Closed</a></dt><dd><a href="enum.FromSwarm.html" title="enum libp2p::swarm::FromSwarm"><code>FromSwarm</code></a> variant that informs the behaviour about a closed connection to a peer.</dd><dt><a class="struct" href="struct.ConnectionCounters.html" title="struct libp2p::swarm::ConnectionCounters">Connection<wbr>Counters</a></dt><dd>Network connection information.</dd><dt><a class="struct" href="struct.ConnectionDenied.html" title="struct libp2p::swarm::ConnectionDenied">Connection<wbr>Denied</a></dt><dd>A connection was denied.</dd><dt><a class="struct" href="struct.ConnectionHandlerSelect.html" title="struct libp2p::swarm::ConnectionHandlerSelect">Connection<wbr>Handler<wbr>Select</a></dt><dd>Implementation of <a href="trait.ConnectionHandler.html" title="trait libp2p::swarm::ConnectionHandler"><code>ConnectionHandler</code></a> that combines two protocols into one.</dd><dt><a class="struct" href="struct.ConnectionId.html" title="struct libp2p::swarm::ConnectionId">Connection<wbr>Id</a></dt><dd>Connection identifier.</dd><dt><a class="struct" href="struct.DialFailure.html" title="struct libp2p::swarm::DialFailure">Dial<wbr>Failure</a></dt><dd><a href="enum.FromSwarm.html" title="enum libp2p::swarm::FromSwarm"><code>FromSwarm</code></a> variant that informs the behaviour that the dial to a known
or unknown node failed.</dd><dt><a class="struct" href="struct.ExpiredListenAddr.html" title="struct libp2p::swarm::ExpiredListenAddr">Expired<wbr>Listen<wbr>Addr</a></dt><dd><a href="enum.FromSwarm.html" title="enum libp2p::swarm::FromSwarm"><code>FromSwarm</code></a> variant that informs the behaviour that a multiaddr
we were listening on has expired,
which means that we are no longer listening on it.</dd><dt><a class="struct" href="struct.ExternalAddrExpired.html" title="struct libp2p::swarm::ExternalAddrExpired">External<wbr>Addr<wbr>Expired</a></dt><dd><a href="enum.FromSwarm.html" title="enum libp2p::swarm::FromSwarm"><code>FromSwarm</code></a> variant that informs the behaviour that an external address was removed.</dd><dt><a class="struct" href="struct.ExternalAddresses.html" title="struct libp2p::swarm::ExternalAddresses">External<wbr>Addresses</a></dt><dd>Utility struct for tracking the external addresses of a <a href="../struct.Swarm.html" title="struct libp2p::Swarm"><code>Swarm</code></a>.</dd><dt><a class="struct" href="struct.InvalidProtocol.html" title="struct libp2p::swarm::InvalidProtocol">Invalid<wbr>Protocol</a></dt><dt><a class="struct" href="struct.ListenAddresses.html" title="struct libp2p::swarm::ListenAddresses">Listen<wbr>Addresses</a></dt><dd>Utility struct for tracking the addresses a <a href="../struct.Swarm.html" title="struct libp2p::Swarm"><code>Swarm</code></a> is listening on.</dd><dt><a class="struct" href="struct.ListenFailure.html" title="struct libp2p::swarm::ListenFailure">Listen<wbr>Failure</a></dt><dd><a href="enum.FromSwarm.html" title="enum libp2p::swarm::FromSwarm"><code>FromSwarm</code></a> variant that informs the behaviour that an error
happened on an incoming connection during its initial handshake.</dd><dt><a class="struct" href="struct.ListenOpts.html" title="struct libp2p::swarm::ListenOpts">Listen<wbr>Opts</a></dt><dt><a class="struct" href="struct.ListenerClosed.html" title="struct libp2p::swarm::ListenerClosed">Listener<wbr>Closed</a></dt><dd><a href="enum.FromSwarm.html" title="enum libp2p::swarm::FromSwarm"><code>FromSwarm</code></a> variant that informs the behaviour that a listener closed.</dd><dt><a class="struct" href="struct.ListenerError.html" title="struct libp2p::swarm::ListenerError">Listener<wbr>Error</a></dt><dd><a href="enum.FromSwarm.html" title="enum libp2p::swarm::FromSwarm"><code>FromSwarm</code></a> variant that informs the behaviour that a listener experienced an error.</dd><dt><a class="struct" href="struct.NetworkInfo.html" title="struct libp2p::swarm::NetworkInfo">Network<wbr>Info</a></dt><dd>Information about the connections obtained by <a href="../struct.Swarm.html#method.network_info" title="method libp2p::Swarm::network_info"><code>Swarm::network_info()</code></a>.</dd><dt><a class="struct" href="struct.NewExternalAddrCandidate.html" title="struct libp2p::swarm::NewExternalAddrCandidate">NewExternal<wbr>Addr<wbr>Candidate</a></dt><dd><a href="enum.FromSwarm.html" title="enum libp2p::swarm::FromSwarm"><code>FromSwarm</code></a> variant that informs the behaviour about a new candidate for an external address for us.</dd><dt><a class="struct" href="struct.NewListenAddr.html" title="struct libp2p::swarm::NewListenAddr">NewListen<wbr>Addr</a></dt><dd><a href="enum.FromSwarm.html" title="enum libp2p::swarm::FromSwarm"><code>FromSwarm</code></a> variant that informs the behaviour
that we have started listening on a new multiaddr.</dd><dt><a class="struct" href="struct.OneShotHandler.html" title="struct libp2p::swarm::OneShotHandler">OneShot<wbr>Handler</a></dt><dd>A <a href="trait.ConnectionHandler.html" title="trait libp2p::swarm::ConnectionHandler"><code>ConnectionHandler</code></a> that opens a new substream for each request.</dd><dt><a class="struct" href="struct.OneShotHandlerConfig.html" title="struct libp2p::swarm::OneShotHandlerConfig">OneShot<wbr>Handler<wbr>Config</a></dt><dd>Configuration parameters for the <code>OneShotHandler</code></dd><dt><a class="struct" href="struct.Stream.html" title="struct libp2p::swarm::Stream">Stream</a></dt><dt><a class="struct" href="struct.StreamProtocol.html" title="struct libp2p::swarm::StreamProtocol">Stream<wbr>Protocol</a></dt><dd>Identifies a protocol for a stream.</dd><dt><a class="struct" href="struct.SubstreamProtocol.html" title="struct libp2p::swarm::SubstreamProtocol">Substream<wbr>Protocol</a></dt><dd>Configuration of inbound or outbound substream protocol(s)
for a <a href="trait.ConnectionHandler.html" title="trait libp2p::swarm::ConnectionHandler"><code>ConnectionHandler</code></a>.</dd><dt><a class="struct" href="struct.SupportedProtocols.html" title="struct libp2p::swarm::SupportedProtocols">Supported<wbr>Protocols</a></dt><dt><a class="struct" href="struct.Swarm.html" title="struct libp2p::swarm::Swarm">Swarm</a></dt><dd>Contains the state of the network, plus the way it should behave.</dd><dt><a class="struct" href="struct.SwarmBuilder.html" title="struct libp2p::swarm::SwarmBuilder">Swarm<wbr>Builder</a><wbr><span class="stab deprecated" title="">Deprecated</span></dt><dd>A <a href="struct.SwarmBuilder.html" title="struct libp2p::swarm::SwarmBuilder"><code>SwarmBuilder</code></a> provides an API for configuring and constructing a <a href="../struct.Swarm.html" title="struct libp2p::Swarm"><code>Swarm</code></a>.</dd><dt><a class="struct" href="struct.SwarmPollParameters.html" title="struct libp2p::swarm::SwarmPollParameters">Swarm<wbr>Poll<wbr>Parameters</a></dt><dd>Parameters passed to <code>poll()</code>, that the <code>NetworkBehaviour</code> has access to.</dd></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.CloseConnection.html" title="enum libp2p::swarm::CloseConnection">Close<wbr>Connection</a></dt><dd>The options which connections to close.</dd><dt><a class="enum" href="enum.ConnectionError.html" title="enum libp2p::swarm::ConnectionError">Connection<wbr>Error</a></dt><dd>Errors that can occur in the context of an established <code>Connection</code>.</dd><dt><a class="enum" href="enum.ConnectionHandlerEvent.html" title="enum libp2p::swarm::ConnectionHandlerEvent">Connection<wbr>Handler<wbr>Event</a></dt><dd>Event produced by a handler.</dd><dt><a class="enum" href="enum.DialError.html" title="enum libp2p::swarm::DialError">Dial<wbr>Error</a></dt><dd>Possible errors when trying to establish or upgrade an outbound connection.</dd><dt><a class="enum" href="enum.FromSwarm.html" title="enum libp2p::swarm::FromSwarm">From<wbr>Swarm</a></dt><dd>Enumeration with the list of the possible events
to pass to <a href="trait.NetworkBehaviour.html#tymethod.on_swarm_event" title="method libp2p::swarm::NetworkBehaviour::on_swarm_event"><code>on_swarm_event</code></a>.</dd><dt><a class="enum" href="enum.KeepAlive.html" title="enum libp2p::swarm::KeepAlive">Keep<wbr>Alive</a></dt><dd>How long the connection should be kept alive.</dd><dt><a class="enum" href="enum.ListenError.html" title="enum libp2p::swarm::ListenError">Listen<wbr>Error</a></dt><dd>Possible errors when upgrading an inbound connection.</dd><dt><a class="enum" href="enum.NotifyHandler.html" title="enum libp2p::swarm::NotifyHandler">Notify<wbr>Handler</a></dt><dd>The options w.r.t. which connection handler to notify of an event.</dd><dt><a class="enum" href="enum.StreamUpgradeError.html" title="enum libp2p::swarm::StreamUpgradeError">Stream<wbr>Upgrade<wbr>Error</a></dt><dd>Error that can happen on an outbound substream opening attempt.</dd><dt><a class="enum" href="enum.SwarmEvent.html" title="enum libp2p::swarm::SwarmEvent">Swarm<wbr>Event</a></dt><dd>Event generated by the <code>Swarm</code>.</dd><dt><a class="enum" href="enum.ToSwarm.html" title="enum libp2p::swarm::ToSwarm">ToSwarm</a></dt><dd>A command issued from a <a href="trait.NetworkBehaviour.html" title="trait libp2p::swarm::NetworkBehaviour"><code>NetworkBehaviour</code></a> for the <a href="../struct.Swarm.html" title="struct libp2p::Swarm"><code>Swarm</code></a>.</dd></dl><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><dl class="item-table"><dt><a class="trait" href="trait.ConnectionHandler.html" title="trait libp2p::swarm::ConnectionHandler">Connection<wbr>Handler</a></dt><dd>A handler for a set of protocols used on a connection with a remote.</dd><dt><a class="trait" href="trait.Executor.html" title="trait libp2p::swarm::Executor">Executor</a></dt><dd>Implemented on objects that can run a <code>Future</code> in the background.</dd><dt><a class="trait" href="trait.NetworkBehaviour.html" title="trait libp2p::swarm::NetworkBehaviour">Network<wbr>Behaviour</a></dt><dd>A <a href="trait.NetworkBehaviour.html" title="trait libp2p::swarm::NetworkBehaviour"><code>NetworkBehaviour</code></a> defines the behaviour of the local node on the network.</dd><dt><a class="trait" href="trait.PollParameters.html" title="trait libp2p::swarm::PollParameters">Poll<wbr>Parameters</a></dt><dd>Parameters passed to <code>poll()</code>, that the <code>NetworkBehaviour</code> has access to.</dd></dl><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><dl class="item-table"><dt><a class="type" href="type.NegotiatedSubstream.html" title="type libp2p::swarm::NegotiatedSubstream">Negotiated<wbr>Substream</a><wbr><span class="stab deprecated" title="">Deprecated</span></dt><dd>Substream for which a protocol has been chosen.</dd><dt><a class="type" href="type.THandler.html" title="type libp2p::swarm::THandler">THandler</a></dt><dd><a href="trait.ConnectionHandler.html" title="trait libp2p::swarm::ConnectionHandler"><code>ConnectionHandler</code></a> of the <a href="trait.NetworkBehaviour.html" title="trait libp2p::swarm::NetworkBehaviour"><code>NetworkBehaviour</code></a> for all the protocols the <a href="trait.NetworkBehaviour.html" title="trait libp2p::swarm::NetworkBehaviour"><code>NetworkBehaviour</code></a>
supports.</dd><dt><a class="type" href="type.THandlerErr.html" title="type libp2p::swarm::THandlerErr">THandler<wbr>Err</a><wbr><span class="stab deprecated" title="">Deprecated</span></dt><dd>Custom error that can be produced by the <a href="trait.ConnectionHandler.html" title="trait libp2p::swarm::ConnectionHandler"><code>ConnectionHandler</code></a> of the <a href="trait.NetworkBehaviour.html" title="trait libp2p::swarm::NetworkBehaviour"><code>NetworkBehaviour</code></a>.</dd><dt><a class="type" href="type.THandlerInEvent.html" title="type libp2p::swarm::THandlerInEvent">THandler<wbr>InEvent</a></dt><dd>Custom event that can be received by the <a href="trait.ConnectionHandler.html" title="trait libp2p::swarm::ConnectionHandler"><code>ConnectionHandler</code></a> of the
<a href="trait.NetworkBehaviour.html" title="trait libp2p::swarm::NetworkBehaviour"><code>NetworkBehaviour</code></a>.</dd><dt><a class="type" href="type.THandlerOutEvent.html" title="type libp2p::swarm::THandlerOutEvent">THandler<wbr>OutEvent</a></dt><dd>Custom event that can be produced by the <a href="trait.ConnectionHandler.html" title="trait libp2p::swarm::ConnectionHandler"><code>ConnectionHandler</code></a> of the <a href="trait.NetworkBehaviour.html" title="trait libp2p::swarm::NetworkBehaviour"><code>NetworkBehaviour</code></a>.</dd></dl><h2 id="derives" class="section-header">Derive Macros<a href="#derives" class="anchor">§</a></h2><dl class="item-table"><dt><a class="derive" href="derive.NetworkBehaviour.html" title="derive libp2p::swarm::NetworkBehaviour">Network<wbr>Behaviour</a></dt><dd>Generates a delegating <code>NetworkBehaviour</code> implementation for the struct this is used for. See
the trait documentation for better description.</dd></dl></section></div></main></body></html>