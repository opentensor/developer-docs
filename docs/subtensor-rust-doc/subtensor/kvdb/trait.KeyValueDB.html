<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Generic key-value database."><title>KeyValueDB in kvdb - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-6c3ea77c.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="kvdb" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0 (05f9846f8 2025-03-31)" data-channel="1.86.0" data-search-js="search-581efc7a.js" data-settings-js="settings-6dad6058.js" ><script src="../static.files/storage-3a5871a4.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-4d63596a.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../kvdb/index.html">kvdb</a><span class="version">0.13.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">KeyValueDB</a></h2><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.get" title="get">get</a></li><li><a href="#tymethod.get_by_prefix" title="get_by_prefix">get_by_prefix</a></li><li><a href="#tymethod.iter" title="iter">iter</a></li><li><a href="#tymethod.iter_with_prefix" title="iter_with_prefix">iter_with_prefix</a></li><li><a href="#tymethod.write" title="write">write</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.has_key" title="has_key">has_key</a></li><li><a href="#method.has_prefix" title="has_prefix">has_prefix</a></li><li><a href="#method.io_stats" title="io_stats">io_stats</a></li><li><a href="#method.transaction" title="transaction">transaction</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="index.html">In crate kvdb</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="index.html">kvdb</a></div><h1>Trait <span class="trait">KeyValueDB</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/kvdb/lib.rs.html#107-152">Source</a> </span></div><pre class="rust item-decl"><code>pub trait KeyValueDB: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> {
    // Required methods
    fn <a href="#tymethod.get" class="fn">get</a>(&amp;self, col: <a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u32.html">u32</a>, key: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u8.html">u8</a>]) -&gt; <a class="type" href="https://doc.rust-lang.org/1.86.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.DBValue.html" title="type kvdb::DBValue">DBValue</a>&gt;&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_by_prefix" class="fn">get_by_prefix</a>(&amp;self, col: <a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u32.html">u32</a>, prefix: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u8.html">u8</a>]) -&gt; <a class="type" href="https://doc.rust-lang.org/1.86.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.DBValue.html" title="type kvdb::DBValue">DBValue</a>&gt;&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.write" class="fn">write</a>(&amp;self, transaction: <a class="struct" href="struct.DBTransaction.html" title="struct kvdb::DBTransaction">DBTransaction</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/1.86.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.unit.html">()</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.iter" class="fn">iter</a>&lt;'a&gt;(
        &amp;'a self,
        col: <a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u32.html">u32</a>,
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="type" href="https://doc.rust-lang.org/1.86.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="type" href="type.DBKeyValue.html" title="type kvdb::DBKeyValue">DBKeyValue</a>&gt;&gt; + 'a&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.iter_with_prefix" class="fn">iter_with_prefix</a>&lt;'a&gt;(
        &amp;'a self,
        col: <a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u32.html">u32</a>,
        prefix: &amp;'a [<a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u8.html">u8</a>],
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="type" href="https://doc.rust-lang.org/1.86.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="type" href="type.DBKeyValue.html" title="type kvdb::DBKeyValue">DBKeyValue</a>&gt;&gt; + 'a&gt;;

    // Provided methods
    fn <a href="#method.transaction" class="fn">transaction</a>(&amp;self) -&gt; <a class="struct" href="struct.DBTransaction.html" title="struct kvdb::DBTransaction">DBTransaction</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.io_stats" class="fn">io_stats</a>(&amp;self, _kind: <a class="enum" href="enum.IoStatsKind.html" title="enum kvdb::IoStatsKind">IoStatsKind</a>) -&gt; <a class="struct" href="struct.IoStats.html" title="struct kvdb::IoStats">IoStats</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.has_key" class="fn">has_key</a>(&amp;self, col: <a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u32.html">u32</a>, key: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u8.html">u8</a>]) -&gt; <a class="type" href="https://doc.rust-lang.org/1.86.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.bool.html">bool</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.has_prefix" class="fn">has_prefix</a>(&amp;self, col: <a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u32.html">u32</a>, prefix: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u8.html">u8</a>]) -&gt; <a class="type" href="https://doc.rust-lang.org/1.86.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.bool.html">bool</a>&gt; { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Generic key-value database.</p>
<p>The <code>KeyValueDB</code> deals with “column families”, which can be thought of as distinct
stores within a database. Keys written in one column family will not be accessible from
any other. The number of column families must be specified at initialization, with a
differing interface for each database.</p>
<p>The API laid out here, along with the <code>Sync</code> bound implies interior synchronization for
implementation.</p>
</div></details><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.get" class="method"><a class="src rightside" href="../src/kvdb/lib.rs.html#114">Source</a><h4 class="code-header">fn <a href="#tymethod.get" class="fn">get</a>(&amp;self, col: <a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u32.html">u32</a>, key: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u8.html">u8</a>]) -&gt; <a class="type" href="https://doc.rust-lang.org/1.86.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.DBValue.html" title="type kvdb::DBValue">DBValue</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Get a value by key.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.get_by_prefix" class="method"><a class="src rightside" href="../src/kvdb/lib.rs.html#117">Source</a><h4 class="code-header">fn <a href="#tymethod.get_by_prefix" class="fn">get_by_prefix</a>(&amp;self, col: <a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u32.html">u32</a>, prefix: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u8.html">u8</a>]) -&gt; <a class="type" href="https://doc.rust-lang.org/1.86.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.86.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.DBValue.html" title="type kvdb::DBValue">DBValue</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Get the first value matching the given prefix.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.write" class="method"><a class="src rightside" href="../src/kvdb/lib.rs.html#120">Source</a><h4 class="code-header">fn <a href="#tymethod.write" class="fn">write</a>(&amp;self, transaction: <a class="struct" href="struct.DBTransaction.html" title="struct kvdb::DBTransaction">DBTransaction</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/1.86.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Write a transaction of changes to the backing store.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.iter" class="method"><a class="src rightside" href="../src/kvdb/lib.rs.html#123">Source</a><h4 class="code-header">fn <a href="#tymethod.iter" class="fn">iter</a>&lt;'a&gt;(
    &amp;'a self,
    col: <a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u32.html">u32</a>,
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="type" href="https://doc.rust-lang.org/1.86.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="type" href="type.DBKeyValue.html" title="type kvdb::DBKeyValue">DBKeyValue</a>&gt;&gt; + 'a&gt;</h4></section></summary><div class="docblock"><p>Iterate over the data for a given column.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.iter_with_prefix" class="method"><a class="src rightside" href="../src/kvdb/lib.rs.html#127-131">Source</a><h4 class="code-header">fn <a href="#tymethod.iter_with_prefix" class="fn">iter_with_prefix</a>&lt;'a&gt;(
    &amp;'a self,
    col: <a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u32.html">u32</a>,
    prefix: &amp;'a [<a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u8.html">u8</a>],
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.86.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="type" href="https://doc.rust-lang.org/1.86.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="type" href="type.DBKeyValue.html" title="type kvdb::DBKeyValue">DBKeyValue</a>&gt;&gt; + 'a&gt;</h4></section></summary><div class="docblock"><p>Iterate over the data for a given column, returning all key/value pairs
where the key starts with the given prefix.</p>
</div></details></div><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.transaction" class="method"><a class="src rightside" href="../src/kvdb/lib.rs.html#109-111">Source</a><h4 class="code-header">fn <a href="#method.transaction" class="fn">transaction</a>(&amp;self) -&gt; <a class="struct" href="struct.DBTransaction.html" title="struct kvdb::DBTransaction">DBTransaction</a></h4></section></summary><div class="docblock"><p>Helper to create a new transaction.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.io_stats" class="method"><a class="src rightside" href="../src/kvdb/lib.rs.html#139-141">Source</a><h4 class="code-header">fn <a href="#method.io_stats" class="fn">io_stats</a>(&amp;self, _kind: <a class="enum" href="enum.IoStatsKind.html" title="enum kvdb::IoStatsKind">IoStatsKind</a>) -&gt; <a class="struct" href="struct.IoStats.html" title="struct kvdb::IoStats">IoStats</a></h4></section></summary><div class="docblock"><p>Query statistics.</p>
<p>Not all kvdb implementations are able or expected to implement this, so by
default, empty statistics is returned. Also, not all kvdb implementations
can return every statistic or configured to do so (some statistics gathering
may impede the performance and might be off by default).</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.has_key" class="method"><a class="src rightside" href="../src/kvdb/lib.rs.html#144-146">Source</a><h4 class="code-header">fn <a href="#method.has_key" class="fn">has_key</a>(&amp;self, col: <a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u32.html">u32</a>, key: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u8.html">u8</a>]) -&gt; <a class="type" href="https://doc.rust-lang.org/1.86.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.bool.html">bool</a>&gt;</h4></section></summary><div class="docblock"><p>Check for the existence of a value by key.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.has_prefix" class="method"><a class="src rightside" href="../src/kvdb/lib.rs.html#149-151">Source</a><h4 class="code-header">fn <a href="#method.has_prefix" class="fn">has_prefix</a>(&amp;self, col: <a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u32.html">u32</a>, prefix: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u8.html">u8</a>]) -&gt; <a class="type" href="https://doc.rust-lang.org/1.86.0/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.bool.html">bool</a>&gt;</h4></section></summary><div class="docblock"><p>Check for the existence of a value by prefix.</p>
</div></details></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"></div><script src="../trait.impl/kvdb/trait.KeyValueDB.js" async></script></section></div></main></body></html>