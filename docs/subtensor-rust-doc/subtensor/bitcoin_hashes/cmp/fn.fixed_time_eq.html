<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Compare two slices for equality in fixed time. Panics if the slices are of non-equal length."><title>fixed_time_eq in bitcoin_hashes::cmp - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-6c3ea77c.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="bitcoin_hashes" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0 (05f9846f8 2025-03-31)" data-channel="1.86.0" data-search-js="search-581efc7a.js" data-settings-js="settings-6dad6058.js" ><script src="../../static.files/storage-3a5871a4.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-4d63596a.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../bitcoin_hashes/index.html">bitcoin_<wbr>hashes</a><span class="version">0.13.0</span></h2></div><div class="sidebar-elems"><div id="rustdoc-modnav"><h2><a href="index.html">In bitcoin_<wbr>hashes::<wbr>cmp</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">bitcoin_hashes</a>::<wbr><a href="index.html">cmp</a></div><h1>Function <span class="fn">fixed_time_eq</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/bitcoin_hashes/cmp.rs.html#17-53">Source</a> </span></div><pre class="rust item-decl"><code>pub fn fixed_time_eq(a: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.86.0/core/primitive.u8.html">u8</a>], b: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.86.0/core/primitive.u8.html">u8</a>]) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.86.0/core/primitive.bool.html">bool</a></code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Compare two slices for equality in fixed time. Panics if the slices are of non-equal length.</p>
<p>This works by XORâ€™ing each byte of the two inputs together and keeping an OR counter of the
results.</p>
<p>Instead of doing fancy bit twiddling to try to outsmart the compiler and prevent early exits,
which is not guaranteed to remain stable as compilers get ever smarter, we take the hit of
writing each intermediate value to memory with a volatile write and then re-reading it with a
volatile read. This should remain stable across compiler upgrades, but is much slower.</p>
<p>As of rust 1.31.0 disassembly looks completely within reason for this, see
<a href="https://godbolt.org/z/mMbGQv">https://godbolt.org/z/mMbGQv</a>.</p>
</div></details></section></div></main></body></html>